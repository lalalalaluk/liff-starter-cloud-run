const Di=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};Di();var z=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function rr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function T(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t}var ir={exports:{}},N=typeof globalThis!="undefined"&&globalThis||typeof self!="undefined"&&self||typeof N!="undefined"&&N,H={searchParams:"URLSearchParams"in N,iterable:"Symbol"in N&&"iterator"in Symbol,blob:"FileReader"in N&&"Blob"in N&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in N,arrayBuffer:"ArrayBuffer"in N};function Ui(e){return e&&DataView.prototype.isPrototypeOf(e)}if(H.arrayBuffer)var Bi=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Hi=ArrayBuffer.isView||function(e){return e&&Bi.indexOf(Object.prototype.toString.call(e))>-1};function De(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function tn(e){return typeof e!="string"&&(e=String(e)),e}function nn(e){var t={next:function(){var n=e.shift();return{done:n===void 0,value:n}}};return H.iterable&&(t[Symbol.iterator]=function(){return t}),t}function x(e){this.map={},e instanceof x?e.forEach(function(t,n){this.append(n,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}x.prototype.append=function(e,t){e=De(e),t=tn(t);var n=this.map[e];this.map[e]=n?n+", "+t:t};x.prototype.delete=function(e){delete this.map[De(e)]};x.prototype.get=function(e){return e=De(e),this.has(e)?this.map[e]:null};x.prototype.has=function(e){return this.map.hasOwnProperty(De(e))};x.prototype.set=function(e,t){this.map[De(e)]=tn(t)};x.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)};x.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),nn(e)};x.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),nn(e)};x.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),nn(e)};H.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function At(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function or(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function Wi(e){var t=new FileReader,n=or(t);return t.readAsArrayBuffer(e),n}function qi(e){var t=new FileReader,n=or(t);return t.readAsText(e),n}function Vi(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function Pn(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function sr(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:H.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:H.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:H.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():H.arrayBuffer&&H.blob&&Ui(e)?(this._bodyArrayBuffer=Pn(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):H.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||Hi(e))?this._bodyArrayBuffer=Pn(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):H.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},H.blob&&(this.blob=function(){var e=At(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=At(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(Wi)}),this.text=function(){var e=At(this);if(e)return e;if(this._bodyBlob)return qi(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Vi(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},H.formData&&(this.formData=function(){return this.text().then(Ki)}),this.json=function(){return this.text().then(JSON.parse)},this}var Gi=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function zi(e){var t=e.toUpperCase();return Gi.indexOf(t)>-1?t:e}function ce(e,t){if(!(this instanceof ce))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var n=t.body;if(e instanceof ce){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new x(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!n&&e._bodyInit!=null&&(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new x(t.headers)),this.method=zi(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}ce.prototype.clone=function(){return new ce(this,{body:this._bodyInit})};function Ki(e){var t=new FormData;return e.trim().split("&").forEach(function(n){if(n){var r=n.split("="),i=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(o))}}),t}function Ji(e){var t=new x,n=e.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map(function(r){return r.indexOf(`
`)===0?r.substr(1,r.length):r}).forEach(function(r){var i=r.split(":"),o=i.shift().trim();if(o){var s=i.join(":").trim();t.append(o,s)}}),t}sr.call(ce.prototype);function Y(e,t){if(!(this instanceof Y))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new x(t.headers),this.url=t.url||"",this._initBody(e)}sr.call(Y.prototype);Y.prototype.clone=function(){return new Y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})};Y.error=function(){var e=new Y(null,{status:0,statusText:""});return e.type="error",e};var Xi=[301,302,303,307,308];Y.redirect=function(e,t){if(Xi.indexOf(t)===-1)throw new RangeError("Invalid status code");return new Y(null,{status:t,headers:{location:e}})};var ae=N.DOMException;try{new ae}catch{ae=function(t,n){this.message=t,this.name=n;var r=Error(t);this.stack=r.stack},ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae}function rn(e,t){return new Promise(function(n,r){var i=new ce(e,t);if(i.signal&&i.signal.aborted)return r(new ae("Aborted","AbortError"));var o=new XMLHttpRequest;function s(){o.abort()}o.onload=function(){var u={status:o.status,statusText:o.statusText,headers:Ji(o.getAllResponseHeaders()||"")};u.url="responseURL"in o?o.responseURL:u.headers.get("X-Request-URL");var c="response"in o?o.response:o.responseText;setTimeout(function(){n(new Y(c,u))},0)},o.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},o.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},o.onabort=function(){setTimeout(function(){r(new ae("Aborted","AbortError"))},0)};function a(u){try{return u===""&&N.location.href?N.location.href:u}catch{return u}}o.open(i.method,a(i.url),!0),i.credentials==="include"?o.withCredentials=!0:i.credentials==="omit"&&(o.withCredentials=!1),"responseType"in o&&(H.blob?o.responseType="blob":H.arrayBuffer&&i.headers.get("Content-Type")&&i.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(o.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof x)?Object.getOwnPropertyNames(t.headers).forEach(function(u){o.setRequestHeader(u,tn(t.headers[u]))}):i.headers.forEach(function(u,c){o.setRequestHeader(c,u)}),i.signal&&(i.signal.addEventListener("abort",s),o.onreadystatechange=function(){o.readyState===4&&i.signal.removeEventListener("abort",s)}),o.send(typeof i._bodyInit=="undefined"?null:i._bodyInit)})}rn.polyfill=!0;N.fetch||(N.fetch=rn,N.Headers=x,N.Request=ce,N.Response=Y);var Qi=Object.freeze(Object.defineProperty({__proto__:null,Headers:x,Request:ce,Response:Y,get DOMException(){return ae},fetch:rn},Symbol.toStringTag,{value:"Module"})),Yi=T(Qi);function ar(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}function ur(e){var t=this;return new t(function(n,r){if(!(e&&typeof e.length!="undefined"))return r(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(e);if(i.length===0)return n([]);var o=i.length;function s(u,c){if(c&&(typeof c=="object"||typeof c=="function")){var l=c.then;if(typeof l=="function"){l.call(c,function(f){s(u,f)},function(f){i[u]={status:"rejected",reason:f},--o===0&&n(i)});return}}i[u]={status:"fulfilled",value:c},--o===0&&n(i)}for(var a=0;a<i.length;a++)s(a,i[a])})}var Zi=setTimeout;function cr(e){return Boolean(e&&typeof e.length!="undefined")}function eo(){}function to(e,t){return function(){e.apply(t,arguments)}}function j(e){if(!(this instanceof j))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],fr(e,this)}function lr(e,t){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(t);return}e._handled=!0,j._immediateFn(function(){var n=e._state===1?t.onFulfilled:t.onRejected;if(n===null){(e._state===1?Ft:Ne)(t.promise,e._value);return}var r;try{r=n(e._value)}catch(i){Ne(t.promise,i);return}Ft(t.promise,r)})}function Ft(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t=="object"||typeof t=="function")){var n=t.then;if(t instanceof j){e._state=3,e._value=t,Dt(e);return}else if(typeof n=="function"){fr(to(n,t),e);return}}e._state=1,e._value=t,Dt(e)}catch(r){Ne(e,r)}}function Ne(e,t){e._state=2,e._value=t,Dt(e)}function Dt(e){e._state===2&&e._deferreds.length===0&&j._immediateFn(function(){e._handled||j._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)lr(e,e._deferreds[t]);e._deferreds=null}function no(e,t,n){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=n}function fr(e,t){var n=!1;try{e(function(r){n||(n=!0,Ft(t,r))},function(r){n||(n=!0,Ne(t,r))})}catch(r){if(n)return;n=!0,Ne(t,r)}}j.prototype.catch=function(e){return this.then(null,e)};j.prototype.then=function(e,t){var n=new this.constructor(eo);return lr(this,new no(e,t,n)),n};j.prototype.finally=ar;j.all=function(e){return new j(function(t,n){if(!cr(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(r.length===0)return t([]);var i=r.length;function o(a,u){try{if(u&&(typeof u=="object"||typeof u=="function")){var c=u.then;if(typeof c=="function"){c.call(u,function(l){o(a,l)},n);return}}r[a]=u,--i===0&&t(r)}catch(l){n(l)}}for(var s=0;s<r.length;s++)o(s,r[s])})};j.allSettled=ur;j.resolve=function(e){return e&&typeof e=="object"&&e.constructor===j?e:new j(function(t){t(e)})};j.reject=function(e){return new j(function(t,n){n(e)})};j.race=function(e){return new j(function(t,n){if(!cr(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)j.resolve(e[r]).then(t,n)})};j._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){Zi(e,0)};j._unhandledRejectionFn=function(t){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var _e=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")}();typeof _e.Promise!="function"?_e.Promise=j:(_e.Promise.prototype.finally||(_e.Promise.prototype.finally=ar),_e.Promise.allSettled||(_e.Promise.allSettled=ur));var ro=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),io=T(ro),Ut=function(e,t){return Ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ut(e,t)};function oo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ut(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var P=function(){return P=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},P.apply(this,arguments)};function v(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})}function b(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ut(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function ue(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(W(arguments[t]));return e}function so(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var on,ao=new Promise(function(e){on=e}),uo=Object.freeze(Object.defineProperty({__proto__:null,get done(){return on},ready:ao},Symbol.toStringTag,{value:"Module"})),F="UNKNOWN",q="UNAUTHORIZED",A="INVALID_ARGUMENT",R="INIT_FAILED",X="FORBIDDEN",re="INVALID_CONFIG",he="INVALID_ID_TOKEN",Bt="CREATE_SUBWINDOW_FAILED",Ht="EXCEPTION_IN_SUBWINDOW",dr="liffEvent",Z="LIFF_STORE",hr="https://liff.line.me/",w={ACCESS_TOKEN:"accessToken",ID_TOKEN:"IDToken",DECODED_ID_TOKEN:"decodedIDToken",FEATURE_TOKEN:"featureToken",LOGIN_TMP:"loginTmp",CONFIG:"config",CONTEXT:"context",EXPIRES:"expires",RAW_CONTEXT:"rawContext",CLIENT_ID:"clientId",IS_SUBSEQUENT_LIFF_APP:"isSubsequentLiffApp",MST_CHALLENGE:"mstChallenge",MSIT:"msit",MST:"mst",MST_VERIFIER:"mstVerifier",APP_DATA:"appData"},Cn="isInClient",pr=["context_token","feature_token","access_token","id_token","client_id","mst_verifier","mst_challenge","msit"],co=5,lo=["liff.ref.source","liff.ref.medium","liff.ref.campaign","liff.ref.term","liff.ref.content"],fo="liff://subwindow",E={INIT:"init",SUBMIT:"submit",CANCEL:"cancel",CLOSE:"close",ERROR:"error"},ho=100,vr=100,br="liff.subwindow",rt="healthCheck",po=["profile","chat_message.write","openid","email"],pe;(function(e){e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR"})(pe||(pe={}));var vo=function(){function e(t){t===void 0&&(t=pe.INFO),this.logLevel=t,this._debug=console.debug,this._info=console.info,this._warn=console.warn,this._error=console.error}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logLevel<=pe.DEBUG&&(t.unshift("[DEBUG]"),this._debug.apply(this,ue(t)))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logLevel<=pe.INFO&&(t.unshift("[INFO]"),this._info.apply(this,ue(t)))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logLevel<=pe.WARN&&(t.unshift("[WARN]"),this._warn.apply(this,ue(t)))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.logLevel<=pe.ERROR&&(t.unshift("[ERROR]"),this._error.apply(this,ue(t)))},e}(),I=new vo(Number("3"));function jn(e){return window.atob(e.replace(/-/g,"+").replace(/_/g,"/"))}var xt={decode:jn,encode:function(e){return window.btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},decodeUnicode:function(e){var t=jn(e).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join("");return decodeURIComponent(t)}};function ne(e,t){if(e===t)return 0;for(var n=e.split("."),r=t.split("."),i=Math.max(n.length,r.length),o=0;o<i;o++){n[o]||(n[o]="0"),r[o]||(r[o]="0");var s=parseInt(n[o])-parseInt(r[o]);if(s!==0)return s>0?1:-1}return 0}function $n(e){var t=e.replace("#","").match(/.{2}/g)||[];if(t.length!==4)return I.warn("convertArgbToRgba: Received invalid ARGB color"),"";var n=function(r){var i=ve(r);return Math.round(i/255*100)/100}(t[0]);return"rgba("+ve(t[1])+", "+ve(t[2])+", "+ve(t[3])+", "+n+")"}function ve(e){return parseInt(e,16)}function kn(e){var t=e.replace("#","").match(/.{2}/g)||[];return t.length!==3?(I.warn("convertArgbToRgba: Received invalid hex color"),""):ve(t[0])+", "+ve(t[1])+", "+ve(t[2])}function An(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}var sn={get:function(e){var t=new RegExp("(?:(?:^|.*;\\s*)"+e+"\\s*\\=\\s*([^;]*).*$)|^.*$");return document.cookie.replace(t,"$1")},set:function(e,t,n){var r=e+"="+t;if(n)for(var i in n)r+="; "+i+(n[i]?"="+n[i]:"");I.debug("set cookie",r),document.cookie=r},remove:function(e,t){var n=e+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT";if(t)for(var r in t)n+="; "+r+"="+t[r];document.cookie=n}},bo=new Set(["400","401","403","404","429","500"]),mr=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i}return oo(t,e),t}(Error);function d(e,t){return new mr(e,t||"")}function an(e){var t=e.match(/([^-]+)-[^-]+/);return t&&t[1]}function mo(e){var t="";return e.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ").forEach(function(n){t+=String.fromCharCode(parseInt(n))}),window.btoa(t)}var go=new(function(){function e(){this.map={}}return e.prototype.clear=function(){this.map={}},e.prototype.getItem=function(t){var n=this.map[t];return n===void 0?null:n},e.prototype.setItem=function(t,n){this.map[t]=n},e.prototype.removeItem=function(t){delete this.map[t]},e.prototype.key=function(t){var n=Object.keys(this.map)[t];return n===void 0?null:n},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.map).length},enumerable:!1,configurable:!0}),e}()),D={parse:function(e){return e.replace(/^\?/,"").replace(/^#\/?/,"").split(/&+/).filter(function(t){return t.length>0}).reduce(function(t,n){var r=W(n.split("=").map(decodeURIComponent),2),i=r[0],o=r[1],s=t[i];return Array.isArray(s)?s.push(o):Object.prototype.hasOwnProperty.call(t,i)?t[i]=[s,o]:t[i]=o,t},{})},stringify:function(e){return Object.keys(e).map(function(t){var n=e[t],r=function(i){return i!==void 0?encodeURIComponent(t)+"="+encodeURIComponent(i):encodeURIComponent(t)};return Array.isArray(n)?n.map(function(i){return r(i)}).join("&"):r(n)}).join("&")}},xn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function yo(){return window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967296}function Oe(e){for(var t="",n=0;n<e;n++)t+=xn[Math.floor(yo()*xn.length)];return t}function gr(e){var t=new URL(e),n=t.hash.slice(1).split("&").filter(function(r){return!pr.some(function(i){return r.includes(i+"=")})}).join("&");return t.hash=n,t.toString()}function wo(e){var t=new URL(e);return t.toString().replace(new RegExp(String.raw(Rn||(Rn=so(["^",""],["^",""])),t.origin)),"")}var Rn,_o=function(e){var t=wo(gr(e));window.history.replaceState(history.state,"",t)};function yr(e,t){if(!e)throw new Error("addParamsToUrl: invalid URL");var n=new URL(e);return Object.entries(t).forEach(function(r){var i=W(r,2),o=i[0],s=i[1];n.searchParams.set(o,s)}),n.toString()}function wr(e){var t,n=e.match((t=hr.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),new RegExp("^"+t+"(\\d+-\\w+)")));return n&&n[1]}function Io(e){var t=e.match(/^(https?:\/\/.*?)\//);return t&&t[1]||""}function un(e){return e===void 0&&(e=window.navigator.userAgent),/ipad/.test(e.toLowerCase())}function _r(e){return e===void 0&&(e=window.navigator.userAgent),/Line\/\d+\.\d+\.\d+/.test(e)}function Ir(e){return e===void 0&&(e=window.navigator.userAgent),/Line\/\d+\.\d+\.\d+ LIFF/.test(e)}function So(e){return e===void 0&&(e=window.navigator.userAgent),/LIFF\/SubWindow/.test(e)}function Oo(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=function(c){Object.keys(c).filter(function(l){return c[l]!==null&&c[l]!==void 0}).forEach(function(l){e[l]=c[l]})};try{for(var s=ut(r),a=s.next();!a.done;a=s.next()){var u=a.value;o(u)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return e}var $e=null;function _(){return $e===null&&($e=Ir()||_r()&&/[#|&]access_token=/.test(location.hash)||sessionStorage.getItem(Z+":"+Cn)==="1",sessionStorage.setItem(Z+":"+Cn,$e?"1":"0")),!!$e}function Eo(){$e=null}var To=Object.freeze(Object.defineProperty({__proto__:null,_cleanupCachedIsInClient:Eo,isInClient:_},Symbol.toStringTag,{value:"Module"})),Sr={};function k(){return Sr}function Or(e){Sr=e}function Er(e,t){if(!t)throw d(re,"liffId is necessary for liff.init()");var n=(_()?sessionStorage:localStorage).getItem(Z+":"+t+":"+e);try{return n===null?null:JSON.parse(n)}catch{return null}}function U(e){return Er(e,k().liffId)}function V(e,t){var n=k().liffId;if(!n)throw d(re,"liffId is necessary for liff.init()");(_()?sessionStorage:localStorage).setItem(Z+":"+n+":"+e,JSON.stringify(t))}function J(){return U(w.CONTEXT)}function ct(e){V(w.CONTEXT,e)}function Po(){return((J()||{}).d||{}).aId}function Co(){return((J()||{}).d||{}).autoplay||!1}function jo(){return(J()||{}).profilePlus}function Tr(){return Boolean(U(w.IS_SUBSEQUENT_LIFF_APP))}function Pr(e){V(w.IS_SUBSEQUENT_LIFF_APP,e)}function Cr(){return U(w.APP_DATA)}function it(e){V(w.APP_DATA,e)}function jr(){return U(w.MST_VERIFIER)}function $r(e){V(w.MST_VERIFIER,e)}function kr(){return U(w.MSIT)}function Ar(e){V(w.MSIT,e)}function Ae(){return U(w.MST)}function xr(e){V(w.MST,e)}function cn(){return U(w.MST_CHALLENGE)}function Rr(e){V(w.MST_CHALLENGE,e)}function Lr(){return U(w.CLIENT_ID)}function ln(e){V(w.CLIENT_ID,e)}function Mr(){return U(w.RAW_CONTEXT)}function Te(){return U(w.FEATURE_TOKEN)}function Wt(e){V(w.FEATURE_TOKEN,e)}function fn(){return U(w.ID_TOKEN)}function dn(e){V(w.ID_TOKEN,e)}function le(){return U(w.ACCESS_TOKEN)}function lt(e){V(w.ACCESS_TOKEN,e)}function hn(e){var t=k().liffId;if(!t)throw d(re,"liffId is necessary for liff.init()");(_()?sessionStorage:localStorage).removeItem(Z+":"+t+":"+e)}function pn(){return U(w.LOGIN_TMP)}function Nr(e){V(w.LOGIN_TMP,e)}function qt(){hn(w.LOGIN_TMP)}function Fr(e){var t=k();sn.set(Z+":"+w.EXPIRES+":"+t.liffId,e.getTime(),{expires:e.toUTCString(),path:"/",secure:null})}function Dr(){var e=k();return sn.get(Z+":"+w.EXPIRES+":"+e.liffId)}function Ur(){var e=k();sn.remove(Z+":"+w.EXPIRES+":"+e.liffId,{path:"/"})}function vn(){return U(w.DECODED_ID_TOKEN)}function bn(e){V(w.DECODED_ID_TOKEN,e)}function Br(){Object.keys(w).forEach(function(e){hn(w[e])}),Ur()}var $o=Object.freeze(Object.defineProperty({__proto__:null,clean:Br,get:U,getAId:Po,getAccessToken:le,getAppData:Cr,getByLiffId:Er,getClientId:Lr,getConfig:k,getContext:J,getDecodedIDToken:vn,getExpireTime:Dr,getFeatureToken:Te,getIDToken:fn,getIsSubsequentLiffApp:Tr,getIsVideoAutoPlay:Co,getLoginTmp:pn,getMSIT:kr,getMST:Ae,getMSTChallenge:cn,getMSTVerifier:jr,getProfilePlus:jo,getRawContext:Mr,remove:hn,removeExpireTime:Ur,removeLoginTmp:qt,set:V,setAccessToken:lt,setAppData:it,setClientId:ln,setConfig:Or,setContext:ct,setDecodedIDToken:bn,setExpireTime:Fr,setFeatureToken:Wt,setIDToken:dn,setIsSubsequentLiffApp:Pr,setLoginTmp:Nr,setMSIT:Ar,setMST:xr,setMSTChallenge:Rr,setMSTVerifier:$r},Symbol.toStringTag,{value:"Module"}));function K(){return!!le()}var ko=Object.freeze(Object.defineProperty({__proto__:null,isLoggedIn:K},Symbol.toStringTag,{value:"Module"})),Ze;function Q(){if(!Ze){var e=window.navigator.userAgent.toLowerCase();Ze=/iphone|ipad|ipod/.test(e)?"ios":/android/.test(e)?"android":"web"}return Ze}function Ao(){Ze=void 0}var xo=Object.freeze(Object.defineProperty({__proto__:null,_cleanupCachedOS:Ao,getOS:Q},Symbol.toStringTag,{value:"Module"}));function ie(){var e=navigator.userAgent.match(/Line\/\d+(\.\d+)*/i);return e?e[0].slice(5):null}var Ro=Object.freeze(Object.defineProperty({__proto__:null,getLineVersion:ie},Symbol.toStringTag,{value:"Module"}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Lo(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(c){try{u(r.next(c))}catch(l){o(l)}}function a(c){try{u(r.throw(c))}catch(l){o(l)}}function u(c){var l;c.done?i(c.value):(l=c.value,l instanceof n?l:new n(function(f){f(l)})).then(s,a)}u((r=r.apply(e,t||[])).next())})}function Mo(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,r=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||l[0]!==6&&l[0]!==2)){s=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(l[0]===6&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=t.call(e,s)}catch(f){l=[6,f],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([u,c])}}}function No(){var e;return Q()==="ios"?(e=ie())&&ne(e,"9.19.0")<0?"https://static.line-scdn.net/liff/edge/2/ios-918-extensions.js":"https://static.line-scdn.net/liff/edge/2/ios-extensions.js":"https://static.line-scdn.net/liff/edge/2/non-ios-extensions.js"}function Fo(){return function(){return Lo(this,void 0,void 0,function(){return Mo(this,function(e){switch(e.label){case 0:return[3,2];case 1:return[2,e.sent().default];case 2:return[2,new Promise(function(t,n){var r=document.createElement("script"),i=No();r.onload=function(){var o=window.liffClientExtension;o?t(o):n(d(R,"Unable to load client features. (Extension is empty)"))},r.onerror=function(){n(d(R,"Unable to load client features."))},r.src=i,r.type="text/javascript",document.body.appendChild(r)})]}})})}()}function Hr(){Br()}var Do=Object.freeze(Object.defineProperty({__proto__:null,logout:Hr},Symbol.toStringTag,{value:"Module"})),Uo=function(){function e(){}return e.prototype.invoke=function(){return So()},e}(),Bo=function(){function e(t){this.storage=t}return Object.defineProperty(e,"IN_SUB_WINDOW_KEY",{get:function(){return"inSubWindow"},enumerable:!1,configurable:!0}),e.prototype.invoke=function(){return!(!this.getInSubWindow()&&!this.getSubWindowIdentifier())||!!new URLSearchParams(window.location.search).has(br)&&(this.setInSubWindow(!0),!0)},e.prototype.getInSubWindow=function(){var t=this.storage.getItem(Z+":"+this.getLiffId()+":"+e.IN_SUB_WINDOW_KEY);return t!==null&&JSON.parse(t)},e.prototype.getSubWindowIdentifier=function(){var t,n,r="liff.subwindow.identifier",i=new URLSearchParams(window.location.search);return i.get(r)||(t=r,(n=i.get("liff.state"))?new URLSearchParams(n).get(t):null)||null},e.prototype.setInSubWindow=function(t){this.storage.setItem(Z+":"+this.getLiffId()+":"+e.IN_SUB_WINDOW_KEY,String(t))},e.prototype.getLiffId=function(){var t=k().liffId;if(!t)throw d(re,"liffId is necessary for liff.init()");return t},e}(),Wr=function(){function e(){_()?this.impl=new Uo:this.impl=new Bo(window.sessionStorage)}return Object.defineProperty(e.prototype,"name",{get:function(){return"isSubWindow"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return this.impl.invoke.bind(this.impl)},e}(),qr=new Wr,ge=qr.install(),Ho=Object.freeze(Object.defineProperty({__proto__:null,IsSubWindowModule:Wr,isSubWindow:ge,module:qr},Symbol.toStringTag,{value:"Module"})),Wo=["subwindowOpen","shareTargetPicker","multipleLiffTransition","scanCode","scanCodeV2","getAdvertisingId","addToHomeScreen","bluetoothLeFunction","skipChannelVerificationScreen"];function ke(e){var t,n=J();return(t=n==null?void 0:n.availability)===null||t===void 0?void 0:t[e]}function Vt(e,t){var n=ie();return!!n&&!(t&&ne(n,t)>0)&&ne(n,e)>=0}function Ce(e){var t=ke(e);if(!t)return!1;var n=t.permission,r=t.minVer,i=t.unsupportedFromVer;return!!n&&!!_()&&Vt(r,i)}var qo={shareTargetPicker:function(){if(!K())return!1;var e=ke("shareTargetPicker");if(!e)return!1;var t=e.permission,n=e.minVer;if(!t)return!1;if(_()){var r=ie();return r!==null&&ne(r,n)>=0}return!0},multipleLiffTransition:function(){var e=ke("multipleLiffTransition");if(!e)return!1;var t=e.permission;return _()&&t},subwindowOpen:function(){var e=ke("subwindowOpen");return!(!e||!e.permission)&&(!_()||Vt(e.minVer,e.unsupportedFromVer))},scanCode:function(){return Ce("scanCode")},scanCodeV2:function(){if(!K())return!1;var e=ke("scanCodeV2");return!(!e||!e.permission)&&(!_()||Vt(e.minVer))},getAdvertisingId:function(){return Ce("getAdvertisingId")},addToHomeScreen:function(){return Ce("addToHomeScreen")},bluetoothLeFunction:function(){return Ce("bluetoothLeFunction")},skipChannelVerificationScreen:function(){return Ce("skipChannelVerificationScreen")}};function be(e){if(!Wo.includes(e))throw d(A,"Unexpected API name.");var t=qo[e];return!t||t()}var Vo=Object.freeze(Object.defineProperty({__proto__:null,isApiAvailable:be},Symbol.toStringTag,{value:"Module"}));function Go(e){return v(this,void 0,void 0,function(){var t,n,r;return b(this,function(i){switch(i.label){case 0:if(!e.ok)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.json()];case 2:return[2,i.sent()];case 3:return i.sent(),[2,e];case 4:return t=String(e.status),n=bo.has(t)?t:F,[4,e.json().catch(function(){throw d(n,e.statusText)})];case 5:throw r=i.sent(),d(r.error||n,r.error_description||r.message)}})})}function Vr(e){var t=function(n){if(n)return n;var r=le();if(!r)throw d(q,"Need access_token for api call, Please login first");return{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+r}}(e&&e.headers);return P(P({},e),{headers:t})}function L(e,t){var n;try{n=Vr(t)}catch(r){return Promise.reject(r)}return fetch(e,n).then(Go)}function zo(e,t){var n;try{n=Vr(t)}catch(r){return Promise.reject(r)}return fetch(e,n)}function $(e){var t=e.subdomain;return"https://"+(t===void 0?"api":t)+".line.me/"+e.pathname}var Ko={token:$({pathname:"oauth2/v2.1/token"}),certs:$({pathname:"oauth2/v2.1/certs"}),"openid-configuration":$({subdomain:"access",pathname:".well-known/openid-configuration"}),authorize:$({subdomain:"access",pathname:"liff/v1/authorize"}),profile:$({pathname:"v2/profile"}),message:$({pathname:"message/v3/share"}),messageOTT:$({pathname:"message/v3/multisend?type=ott"}),friendship:$({pathname:"friendship/v1/status"}),shareTargetPicker:$({subdomain:"access",pathname:"oauth2/v2.1/liff/shareTargetPicker"}),shareTargetPickerOtt:$({pathname:"liff/v2/apps"}),shareTargetPickerResult:$({subdomain:"access",pathname:"oauth2/v2.1/liff/shareTargetPicker/result"}),apps:$({pathname:"liff/v2/apps"}),subWindowGetMSIT:$({pathname:"liff/v2/sub/msit"}),subWindowGetMSTByMSIT:$({pathname:"liff/v2/sub/mst"}),subWindowSubscribe:$({subdomain:"liff",pathname:"liff/v2/sub/waitResult"}),subWindowPost:$({pathname:"liff/v2/sub/result"}),subWindowGetAppData:$({pathname:"liff/v2/sub/appData"}),subWindowGetOrigin:function(e){return $({pathname:"liff/v2/sub/"+e+"/origin"})},accessTokenVerify:$({pathname:"oauth2/v2.1/verify"}),unauthorizedPermissions:$({subdomain:"liff",pathname:"liff/v2/incrementalAgreement/unauthorizedPermissions"}),permanentLink:$({subdomain:"liff",pathname:"liff/v2/permanentLink"})};function C(e){return Ko[e]}function Gr(e){return L(C("accessTokenVerify")+"?access_token="+encodeURIComponent(e),{headers:{"Content-Type":"application/json",Accept:"application/json"}})}var zr="liff.subwindow.identifier",Gt="liff.subwindow.cryptokey",et=P(P({},E),{GET_DATA:"getData",SET_DATA:"setData",NOT_FOUND:"notFound",TEARDOWN:"teardown"}),ot={BROADCAST:"broadcast",COMMAND:"command"},xe={MAIN:"main",SUB:"sub"},Kr=function(e){return v(void 0,void 0,void 0,function(){var t;return b(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,window.crypto.subtle.importKey("jwk",{kty:"oct",k:e,alg:"A128GCM",ext:!0},{name:"AES-GCM"},!1,["encrypt","decrypt"])];case 1:return[2,n.sent()];case 2:throw t=n.sent(),d(F,t);case 3:return[2]}})})},Jo=function(e,t,n){return v(void 0,void 0,void 0,function(){var r,i,o,s;return b(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),r=new TextEncoder().encode(e),[4,Kr(t)];case 1:return i=a.sent(),[4,window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},i,new TextEncoder().encode(n))];case 2:return o=a.sent(),[2,btoa(new Uint8Array(o).reduce(function(u,c){return u+String.fromCharCode(c)},""))];case 3:throw s=a.sent(),d(F,s);case 4:return[2]}})})},Xo=function(e,t,n){return v(void 0,void 0,void 0,function(){var r,i,o,s,a,u,c;return b(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),r=new TextEncoder().encode(e),[4,Kr(t)];case 1:for(i=l.sent(),o=atob(n),s=new Uint8Array(o.length),a=0;a<o.length;a++)s[a]=o.charCodeAt(a);return[4,window.crypto.subtle.decrypt({name:"AES-GCM",iv:r},i,s.buffer)];case 2:return u=l.sent(),[2,new TextDecoder().decode(new Uint8Array(u))];case 3:throw c=l.sent(),d(F,c);case 4:return[2]}})})},Qo=function(e,t){return Re(e)===Re(t)},Re=function(e){return e.identifier+"-"+e.action+"-"+e.timestamp},Yo=function(e){return Object.keys(E).map(function(t){return E[t]}).includes(e)?ot.BROADCAST:ot.COMMAND};function Zo(){var e=document.createElement("form");e.method="POST",e.action="$MESSAGE_HANDLER_URL";var t=document.createElement("input");t.type="hidden",t.name="identifier",t.value="$IDENTIFIER",e.appendChild(t),document.body.appendChild(e),e.submit()}var es=function(e){var t=this;e===void 0&&(e=xe.MAIN),this.identification={identifier:"",cryptoKey:""},this.messageHandlerInstance=null,this.listeners=new Map,this.sentMessages=[],this.generateIdentification=function(){return v(t,void 0,void 0,function(){var n,r,i,o,s;return b(this,function(a){switch(a.label){case 0:return n=new URLSearchParams(window.location.search),r=function(u){var c=n.get("liff.state");return c?new URLSearchParams(c).get(u):null},i=this,s={identifier:this.windowType===xe.MAIN?Oe(12):n.get("liff.subwindow.identifier")||r("liff.subwindow.identifier")||""},this.windowType!==xe.MAIN?[3,2]:[4,v(void 0,void 0,void 0,function(){var u,c,l;return b(this,function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),[4,window.crypto.subtle.generateKey({name:"AES-GCM",length:128},!0,["encrypt","decrypt"])];case 1:return u=f.sent(),[4,window.crypto.subtle.exportKey("jwk",u)];case 2:if(!(c=f.sent())||!c.k)throw d(F,"failed to generate key");return[2,c.k];case 3:throw l=f.sent(),d(F,l);case 4:return[2]}})})];case 1:return o=a.sent(),[3,3];case 2:o=n.get(Gt)||r(Gt)||"",a.label=3;case 3:return i.identification=(s.cryptoKey=o,s),[2]}})})},this.hasIdentification=function(){var n=t.identification,r=n.identifier,i=n.cryptoKey;return typeof r=="string"&&typeof i=="string"&&r.length>0&&i.length>0},this.isReady=function(){return t.hasIdentification()&&!!t.messageHandlerInstance},this.setup=function(){return v(t,void 0,void 0,function(){var n,r,i,o,s,a=this;return b(this,function(u){switch(u.label){case 0:return this.messageHandlerInstance?[2]:[4,this.generateIdentification()];case 1:if(u.sent(),!(n=this.identification.identifier))return[2];if(r=/^[a-zA-Z0-9]+$/gm,!n.match(r))throw d(F,"Invalid identifier");return(i=document.createElement("iframe")).style.display="none",i.src="about:blank",document.body.appendChild(i),(s=i==null?void 0:i.contentWindow)===null||s===void 0||s.window.eval("("+Zo.toString().replace("$MESSAGE_HANDLER_URL","https://liff-subwindow.line.me/liff/v2/sub/messageHandler").replace("$IDENTIFIER",n.split("'")[0])+")()"),o="iframe-"+n+"-ready",[4,new Promise(function(c){var l=function(f){f.data[o]&&(a.messageHandlerInstance=i,window.addEventListener("message",a.proxyToListeners),c(),document.removeEventListener("message",l))};window.addEventListener("message",l)})];case 2:return[2,u.sent()]}})})},this.teardown=function(){return v(t,void 0,void 0,function(){var n,r;return b(this,function(i){switch(i.label){case 0:return this.isReady()?[4,this.send({eventName:et.TEARDOWN})]:[3,2];case 1:i.sent(),window.removeEventListener("message",this.proxyToListeners),this.listeners.clear(),(r=(n=this.messageHandlerInstance)===null||n===void 0?void 0:n.parentNode)===null||r===void 0||r.removeChild(this.messageHandlerInstance),this.messageHandlerInstance=null,i.label=2;case 2:return[2]}})})},this.listen=function(n){t.listeners.set(n,n)},this.listenRepliedEvent=function(n,r){var i=function(o){o.replyTarget&&Qo(o.replyTarget,n)&&(r(o),t.listeners.delete(i))};t.listeners.set(i,i)},this.send=function(n){return v(t,void 0,void 0,function(){var r,i,o,s,a=this;return b(this,function(u){switch(u.label){case 0:if(!this.isReady())throw d("message bus is not ready to send message");return i={action:Yo(n.eventName),identifier:this.identification.identifier||"",timestamp:new Date().getTime()},[4,this.getEncryptedContext(n)];case 1:return i.context=u.sent(),r=i,(s=(o=this.messageHandlerInstance)===null||o===void 0?void 0:o.contentWindow)===null||s===void 0||s.postMessage({messageBusEvent:r},"*"),this.sentMessages.push(Re(r)),[4,new Promise(function(c){a.listenRepliedEvent(r,function(l){c(l.context)})})];case 2:return[2,u.sent()]}})})},this.reply=function(n,r){return v(t,void 0,void 0,function(){var i,o,s,a;return b(this,function(u){switch(u.label){case 0:if(!this.isReady())throw d("message bus is not ready to send message");if(!n.identifier||!n.timestamp)throw d(F,"target message is not valid");return o={action:ot.BROADCAST},[4,this.getEncryptedContext(r)];case 1:return o.context=u.sent(),o.identifier=this.identification.identifier||"",o.timestamp=new Date().getTime(),o.replyTarget={action:n.action,identifier:n.identifier,timestamp:n.timestamp},i=o,(a=(s=this.messageHandlerInstance)===null||s===void 0?void 0:s.contentWindow)===null||a===void 0||a.postMessage({messageBusEvent:i},"*"),this.sentMessages.push(Re(i)),[2]}})})},this.setData=function(n,r){n===void 0&&(n="appData"),t.send({eventName:et.SET_DATA,key:n,data:r})},this.getData=function(n){return n===void 0&&(n="appData"),v(t,void 0,void 0,function(){return b(this,function(r){switch(r.label){case 0:return[4,this.send({eventName:et.GET_DATA,key:n})];case 1:return[2,r.sent()]}})})},this.proxyToListeners=function(n){return v(t,void 0,void 0,function(){var r,i=this;return b(this,function(o){return(r=n.data.messageBusEvent)?(this.sentMessages.includes(Re(r))||r.identifier!==this.identification.identifier||r.action!==ot.BROADCAST&&!r.replyTarget||this.listeners.forEach(function(s){return v(i,void 0,void 0,function(){var a,u,c;return b(this,function(l){switch(l.label){case 0:return a=s,u=[P({},r)],c={},[4,this.getDecryptedContext(r.context)];case 1:return a.apply(void 0,[P.apply(void 0,u.concat([(c.context=l.sent(),c)]))]),[2]}})})}),[2]):[2]})})},this.getEncryptedContext=function(n){return v(t,void 0,void 0,function(){var r,i,o,s,a,u,c;return b(this,function(l){switch(l.label){case 0:return r=this.identification,i=r.identifier,o=r.cryptoKey,a=(s=JSON).stringify,c={eventName:n.eventName,key:n.key?n.key:void 0},n.data?[4,Jo(i,o,JSON.stringify(n.data))]:[3,2];case 1:return u=l.sent(),[3,3];case 2:u=void 0,l.label=3;case 3:return[2,a.apply(s,[(c.data=u,c)])]}})})},this.getDecryptedContext=function(n){return v(t,void 0,void 0,function(){var r,i,o,s,a,u,c,l;return b(this,function(f){switch(f.label){case 0:return r=this.identification,i=r.identifier,o=r.cryptoKey,(s=JSON.parse(n)).data&&typeof s.data=="string"?(l=(c=JSON).parse,[4,Xo(i,o,s.data)]):[3,2];case 1:return u=l.apply(c,[f.sent()]),[3,3];case 2:u=void 0,f.label=3;case 3:return a=u,[2,P(P({},s),{data:a})]}})})},this.windowType=e};function Jr(e){return new CustomEvent(dr,{detail:e})}(function(){if(typeof window.CustomEvent!="function"){let t=function(n,r){var i=r||{},o=i.bubbles,s=o!==void 0&&o,a=i.cancelable,u=a!==void 0&&a,c=i.detail,l=c===void 0?void 0:c,f=document.createEvent("CustomEvent");return f.initCustomEvent(n,s,u,l),f};var e=t;t.prototype=Event.prototype,window.CustomEvent=t}})();var Ie={},Ln=!1;function mn(e,t){Ln||(Ln=!0,window.addEventListener(dr,function(n){n&&n.detail&&n.detail.type&&Ie[n.detail.type]&&Ie[n.detail.type].forEach(function(r){return r(n)})})),Ie[e]?Ie[e].push(t):Ie[e]=[t]}function gn(e,t){var n=Ie[e];if(n&&Array.isArray(n)){var r=n.indexOf(t);r>=0&&n.splice(r,1)}}function ts(e){var t={};try{t=JSON.parse(e)}catch(r){throw d(A,r.message)}var n=Jr(t);I.debug("[client dispatchEvent to js]",{type:n.type,detail:n.detail}),window.dispatchEvent(n)}function Xr(e,t,n){t===void 0&&(t={}),n===void 0&&(n="");var r=Te();if(!r)throw d(X,"Invalid featureToken for client features");if(!window._liff||!window._liff.postMessage)throw d(A,"postMessage is not available from client");I.debug("[js postMessage to client]",e,n,t),window._liff.postMessage(e,r,n,JSON.stringify(t))}function yn(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={once:!0}),Te()?(n=P({callbackId:Oe(12),once:!0},n),new Promise(function(r,i){var o=function(s){if(s&&s.detail){var a=s.detail.callbackId===n.callbackId,u=typeof s.detail.callbackId!="string";(a||u)&&(n.once&&gn(e,o),I.debug("[callback detail]",s.detail),s.detail.error?i(s.detail.error):s.detail.data?r(s.detail.data):i(s.detail))}i()};mn(e,o),Xr(e,t,n.callbackId)})):Promise.reject(d(X,"Invalid featureToken for client features"))}var ns=Object.freeze(Object.defineProperty({__proto__:null,addListener:mn,call:yn,createEvent:Jr,dispatch:ts,postMessage:Xr,removeListener:gn},Symbol.toStringTag,{value:"Module"}));function Le(){var e=ie();e!==null&&(Q()==="ios"&&ne(e,"9.19")>=0||Q()==="android"&&ne(e,"11.6.0")>=0)?location.href="liff://close":window._liff&&window._liff.postMessage?e!==null&&ne(e,"10.15.0")>=0?Q()==="ios"?window._liff.postMessage("closeWindow",""):window._liff.postMessage("closeWindow","","",""):yn("closeWindow"):window.close()}var rs=Object.freeze(Object.defineProperty({__proto__:null,closeWindow:Le},Symbol.toStringTag,{value:"Module"}));function Qr(e){var t=C("subWindowGetOrigin");return L(t(e))}var se={};function Ee(e,t){e&&se[e]&&se[e].forEach(function(n){n(t)})}var Yr,Zr,ei,ti,zt,ni=function(){function e(t){this.storage=t}return e.prototype.getItem=function(t){return this.storage.getItem(this.getKeyPrefix()+":"+t)},e.prototype.setItem=function(t,n){this.storage.setItem(this.getKeyPrefix()+":"+t,n)},e.prototype.removeItem=function(t){this.storage.removeItem(this.getKeyPrefix()+":"+t)},e.prototype.clear=function(){this.storage.clear()},e.prototype.getKeyPrefix=function(){return Z+":"+this.getLiffId()},e.prototype.getLiffId=function(){var t=k().liffId;if(!t)throw d(re,"liffId is necessary for liff.init()");return t},e}(),ri=new ni(go);function st(){var e=ri.getItem("subWindowStatusUpdated");return e!==null&&JSON.parse(e)}function me(e){ri.setItem("subWindowStatusUpdated",String(e))}function Kt(e){Yr=e}function Me(){return Yr}function Jt(){return ei}function Mn(){return ti}function wn(e){return e===void 0&&(e=xe.MAIN),v(this,void 0,void 0,function(){return b(this,function(t){switch(t.label){case 0:return[4,(zt=new es(e)).setup()];case 1:return t.sent(),[2,zt]}})})}function ye(){return zt}var ii=new ni(window.sessionStorage);function oi(e){ii.setItem("mainWindowOrigin",e)}function _n(){return ii.getItem("mainWindowOrigin")}function Nn(e,t){return t===void 0&&(t={}),v(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return b(this,function(l){switch(l.label){case 0:if((n=ye())!=null&&n.isReady())return[3,5];if(r=JSON.stringify(t),i=k().liffId,o=_n(),!window.opener||!o||!i)throw d(Ht);s=!1,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Qr(i)];case 2:return a=l.sent(),s=a.subwindowCommonModule,[3,4];case 3:throw u=l.sent(),I.debug(u),d(Ht);case 4:return c=s?o:location.origin,[2,new Promise(function(f){window.addEventListener("message",function h(p){(function(m){return!!(m.data&&typeof m.data.type=="string"&&[E.SUBMIT,E.CANCEL].includes(m.data.type))})(p)&&(window.removeEventListener("message",h),f({status:e,result:r}))}),window.opener.postMessage({status:e,result:r},c)})];case 5:return n.send({eventName:e,data:t}),[4,new Promise(function(f){setTimeout(f,500)})];case 6:return l.sent(),[2,{status:e,result:JSON.stringify(t)}]}})})}function In(e){var t,n=Mn();if(e.origin===n){var r=e.data;if(r){var i,o=r.status,s=r.result;try{i=JSON.parse(s||"{}")}catch{i={}}switch(o){case rt:window.clearInterval(Jt()),Sn();break;case E.CANCEL:case E.SUBMIT:me(!0),window.clearInterval(Jt()),window.removeEventListener("message",In),Ee(o,i),(t=Me())===null||t===void 0||t.postMessage({type:o},Mn());break;default:I.debug("unexpected message")}}}}var is=function(e){return v(void 0,void 0,void 0,function(){var t,n,r,i;return b(this,function(o){if(st())return[2];switch(t=e.context,n=t.eventName,r=t.data,i=ye(),n){case E.INIT:ai(!r.hasOpener);break;case E.CANCEL:case E.SUBMIT:me(!0),Ee(n,r),i==null||i.reply(e,{eventName:n});break;case E.CLOSE:st()===!1&&(me(!0),Ee(E.CLOSE,{})),Sn()}return[2]})})};function si(){window.clearInterval(Zr),window.clearInterval(Jt()),window.removeEventListener("message",In)}function ai(e){if(e===void 0&&(e=!1),si(),me(!1),e){var t=Me();t&&(t.close(),Kt(null))}}function Sn(){return v(this,void 0,void 0,function(){var e;return b(this,function(t){switch(t.label){case 0:return(e=ye())?[4,e.teardown()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}function os(e){return v(this,void 0,void 0,function(){var t,n,r,i,o,s,a,u,c,l;return b(this,function(f){switch(f.label){case 0:return(t=wr(e.url))?(ai(!0),[4,Sn()]):[2,Promise.reject(d(A,"params.url must be liff url"))];case 1:return f.sent(),n=e.url,r=e.appData,(i=new URL(n)).searchParams.append(br,"true"),[4,wn()];case 2:return o=f.sent(),i.searchParams.append(zr,o.identification.identifier),i.searchParams.append(Gt,o.identification.cryptoKey),i.hostname=function(p){var m=W(p.split(".")),g=m[0],y=m.slice(1);return ue([g+"-ext"],y).join(".")}(i.hostname),s=i.toString(),Kt(Q()!=="ios"||un()?window.open("","liffsubwindow","width=480, height=640, menubar=no, toolbar=no, scrollbars=yes"):window.open()),[4,Qr(t)];case 3:if(a=f.sent(),u=a.origin,c=a.subwindowCommonModule,!(l=Me()))throw d(Bt);return c?(function(p){ti=p}(u),o.listen(is),o.setData("appData",r),window.addEventListener("message",In),l.location.href=s,h=function(p,m){var g=Me(),y={type:rt};return m&&(y.message=JSON.stringify(m)),window.setInterval(function(){g==null||g.postMessage(y,p)},vr)}(u,r),ei=h,function(p){Zr=p}(window.setInterval(function(){var p=Me();p&&p.closed&&(si(),Kt(null),st()===!1&&(me(!0),Ee(E.CLOSE,{})))},ho)),[2]):(l.close(),[2])}var h})})}function tt(e){return v(this,void 0,void 0,function(){var t,n,r,i,o,s,a,u,c,l,f;return b(this,function(h){switch(h.label){case 0:t=e.msit,n=e.mstChallenge,r=e.onSuccess,i=e.onError,o=e.reconnectCount,s=o===void 0?0:o,h.label=1;case 1:return h.trys.push([1,3,,6]),[4,zo(C("subWindowSubscribe"),{method:"POST",body:JSON.stringify({msit:t,mstChallenge:n})})];case 2:return a=h.sent(),[3,6];case 3:return h.sent(),[4,Fn()];case 4:return h.sent(),[4,Rt(tt,{msit:t,mstChallenge:n,onSuccess:r,onError:i,reconnectCount:s+=1})];case 5:return h.sent(),[2];case 6:return a.status>=500?[4,Fn()]:[3,9];case 7:return h.sent(),[4,Rt(tt,{msit:t,mstChallenge:n,onSuccess:r,onError:i,reconnectCount:s+=1})];case 8:return h.sent(),[3,20];case 9:return a.status>=400&&500>a.status?[4,Dn(a)]:[3,11];case 10:return(c=h.sent())?(u=c.errorDetail,i(d(A,u))):i(d(F,"Some error happened in the server")),[3,20];case 11:return a.status!==200?[3,19]:[4,Dn(a)];case 12:return(c=h.sent())?[3,13]:(i(d(F,"Some error happened in the server")),[3,18]);case 13:switch(l=c.status,f=c.result,l){case E.ERROR:return[3,14];case E.CLOSE:case E.CANCEL:case E.SUBMIT:return[3,16]}return[3,17];case 14:return[4,Rt(tt,{msit:t,mstChallenge:n,onSuccess:r,onError:i,reconnectCount:s})];case 15:return h.sent(),[3,18];case 16:return r(l,f),[3,18];case 17:i(d(F,"Some error happened in the server")),h.label=18;case 18:return[3,20];case 19:i(d(F,"Some error happened in the server")),h.label=20;case 20:return[2]}})})}function Fn(){return new Promise(function(e){return setTimeout(e,1e3)})}function Dn(e){return v(this,void 0,void 0,function(){return b(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e.json()];case 1:return[2,t.sent()];case 2:return t.sent(),[2,null];case 3:return[2]}})})}function Rt(e,t){return v(this,void 0,void 0,function(){return b(this,function(n){switch(n.label){case 0:return t.reconnectCount>=10?(t.onError(d(F,"Failed to connect")),[3,3]):[3,1];case 1:return[4,e(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function ss(e){var t={};return Object.keys(e).forEach(function(n){n==="closeButtonColor"?e[n]==="white"?t[n]="#ffffff":t[n]="#000000":t[n]=e[n]}),t}var as={height:"full",closeButtonPosition:"right",closeButtonColor:"black",closeButtonLabel:""};function us(e){var t=e.appData,n=e.native,r=k().liffId,i=cn(),o=wr(e.url);if(!r)return Promise.reject(d(q,"liffId is invalid"));if(!i)return Promise.reject(d(q,"mst_challenge is invalid"));if(!o)return Promise.reject(d(A,"params.url must be liff url"));var s=Object.assign({},as,n);return function(a){var u=a.mainLiffId,c=a.subLiffId,l=a.mstChallenge,f=a.appData,h=a.view;return u&&l?L(C("subWindowGetMSIT"),{method:"POST",body:JSON.stringify({mainLiffId:u,subLiffId:c,mstChallenge:l,appData:f,view:h})}):Promise.reject(d(A,"no proper argument"))}({mainLiffId:r,subLiffId:o,mstChallenge:i,appData:t,view:ss(s)}).then(function(a){var u=a.msit;tt({msit:u,mstChallenge:i,onSuccess:function(c,l){Ee(c,l)},onError:function(c){Ee(E.ERROR,c)}}),function(c,l){var f=c.url,h=new URLSearchParams;h.set("msit",l),location.href=fo+"?url="+encodeURIComponent(f)+"&"+h.toString()}(e,u)})}function Je(){if(!ge())throw d(q,"this api can be only called in child window")}function Lt(e){if(!e.mst||!e.status)return Promise.reject(d(A,"no proper argument"));var t=JSON.stringify(e);return L(C("subWindowPost"),{method:"POST",body:t})}function ui(e){var t=e.msit,n=e.mstVerifier;return t&&n?L(C("subWindowGetMSTByMSIT"),{method:"POST",body:JSON.stringify({msit:t,mstVerifier:n})}):Promise.reject(d(A,"no proper argument"))}function ci(e){var t=e.mst;return t?L(C("subWindowGetAppData"),{method:"POST",body:JSON.stringify({mst:t})}):Promise.reject(d(A,"no proper argument"))}var G={on:function(e,t){se[e]||(se[e]=[]),se[e].push(t)},off:function(e,t){if(se[e]){var n=se[e].indexOf(t);n>=0&&se[e].splice(n,1)}},open:function(e){if(!be("subwindowOpen"))throw d(X,"No permission for liff.subWindow.open()");if(!Ir()&&_r())throw d(X,"Subwindow is not supported in this browser");return function(){if(ge())throw d(q,"this api can be only called in parent window")}(),_()?us(e):os(e)},cancel:function(e){return e===void 0&&(e={}),Je(),_()?function(t){return t===void 0&&(t={}),v(this,void 0,void 0,function(){var n,r;return b(this,function(i){switch(i.label){case 0:return(n=Ae())?[4,Lt({mst:n,status:E.CANCEL,result:t})]:[2,Promise.reject(d(q,"mst is invalid"))];case 1:return r=i.sent(),me(!0),[2,r]}})})}(e):function(t){return t===void 0&&(t={}),Nn(E.CANCEL,t)}(e)},submit:function(e){return e===void 0&&(e={}),Je(),_()?function(t){return t===void 0&&(t={}),v(this,void 0,void 0,function(){var n,r;return b(this,function(i){switch(i.label){case 0:return(n=Ae())?[4,Lt({mst:n,status:E.SUBMIT,result:t})]:[2,Promise.reject(d(q,"mst is invalid"))];case 1:return r=i.sent(),me(!0),[2,r]}})})}(e):function(t){return t===void 0&&(t={}),Nn(E.SUBMIT,t)}(e)},close:function(){return Je(),_()?function(){return v(this,void 0,void 0,function(){var e;return b(this,function(t){switch(t.label){case 0:return st()!==!1?[3,2]:(e=Ae())?[4,Lt({mst:e,status:E.CLOSE,result:{}})]:[2,Promise.reject(d(q,"mst is invalid"))];case 1:t.sent(),t.label=2;case 2:return Le(),[2]}})})}():function(){return v(this,void 0,void 0,function(){var e;return b(this,function(t){return(e=ye())!=null&&e.isReady()?(e.send({eventName:E.CLOSE}),[2,new Promise(function(n){setTimeout(function(){Le(),n()},vr)})]):(Le(),[2,Promise.resolve()])})})}()},getAppData:function(){return Je(),function(){var e,t=Cr();try{e=t?JSON.parse(t):{}}catch{e={}}return Promise.resolve(e)}()}},cs=Object.freeze(Object.defineProperty({__proto__:null,getAppData:ci,getMSTByMSIT:ui,getMainWindowOrigin:_n,getMessageBus:ye,initMessageBus:wn,setMainWindowOrigin:oi,subWindow:G},Symbol.toStringTag,{value:"Module"})),ls=function(){var e=this;this.type="sync",this.fns=new Set,this.on=function(t){e.fns.add(t)},this.call=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];try{for(var o=ut(e.fns),s=o.next();!s.done;s=o.next()){var a=s.value;a.apply(void 0,ue(r))}}catch(u){t={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}},je=function(){var e=this;this.type="async",this.fns=new Set,this.on=function(t){e.fns.add(t)},this.call=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return v(e,void 0,void 0,function(){var r,i,o,s,a,u;return b(this,function(c){switch(c.label){case 0:r=[];try{for(i=ut(this.fns),o=i.next();!o.done;o=i.next())s=o.value,r.push(s.apply(void 0,ue(t)))}catch(l){a={error:l}}finally{try{o&&!o.done&&(u=i.return)&&u.call(i)}finally{if(a)throw a.error}}return[4,Promise.all(r)];case 1:return c.sent(),[2]}})})}},Un={iconColor:"#111111",statusBarColor:"BLACK",titleTextColor:"#111111",titleSubtextColor:"#B7B7B7",titleButtonColor:"#111111",titleBackgroundColor:"#FFFFFF",progressBarColor:"#06C755",progressBackgroundColor:"#FFFFFF",titleButtonAreaBackgroundColor:"#1FFFFFFF",titleButtonAreaBorderColor:"#26000000",baseBackgroundColor:"#FFFFFF",baseTextColor:"#000000",lightButtonBorderColor:"rgba(0, 0, 0, 0.15)"},Bn={iconColor:"#FFFFFF",statusBarColor:"WHITE",titleTextColor:"#FFFFFF",titleSubtextColor:"#949494",titleButtonColor:"#FFFFFF",titleBackgroundColor:"#111111",progressBarColor:"#06C755",progressBackgroundColor:"#111111",titleButtonAreaBackgroundColor:"#1FFFFFFF",titleButtonAreaBorderColor:"#26000000",baseBackgroundColor:"#000000",baseTextColor:"#FFFFFF",lightButtonBorderColor:"rgba(255, 255, 255, 0.5)"};function fs(){var e;M("color-scheme",(((e=J())==null?void 0:e.menuColorSetting)||{adaptableColorSchemes:["light"]}).adaptableColorSchemes.join(" "));var t=window.matchMedia("(prefers-color-scheme: dark)");Mt({matches:t==null?void 0:t.matches,media:t==null?void 0:t.media}),t.addEventListener?t.addEventListener("change",Mt):t.addListener&&t.addListener(Mt)}function Mt(e){var t=J(),n=(t==null?void 0:t.menuColorSetting)||{adaptableColorSchemes:["light"],lightModeColor:Un,darkModeColor:Bn},r=n.adaptableColorSchemes,i=n.lightModeColor,o=n.darkModeColor,s=r.includes("dark");e.matches&&s?Hn(P(P({},Bn),o)):Hn(P(P({},Un),i))}function Hn(e){var t=e.iconColor,n=e.statusBarColor,r=e.titleTextColor,i=e.titleSubtextColor,o=e.titleButtonColor,s=e.titleBackgroundColor,a=e.progressBarColor,u=e.progressBackgroundColor,c=e.titleButtonAreaBackgroundColor,l=e.titleButtonAreaBorderColor,f=e.baseBackgroundColor,h=e.baseTextColor,p=e.lightButtonBorderColor;M("--liff-base-background-color",f),M("--liff-base-text-color",h),M("--liff-base-background-rgb-color",kn(f)),M("--liff-base-text-rgb-color",kn(h)),M("--liff-light-button-border-color",p),M("--liff-title-text-color",r),M("--liff-title-background-color",s),M("--liff-title-button-color",o),M("--liff-icon-color",t),M("--liff-status-bar-color",n),M("--liff-title-subtext-color",i),M("--liff-progress-bar-color",a),M("--liff-progress-background-color",u),M("--liff-title-button-area-background-color",$n(c)),M("--liff-title-button-area-border-color",$n(l))}function M(e,t){document.documentElement.style.setProperty(e,t)}function ds(e){return v(this,void 0,void 0,function(){return b(this,function(t){switch(t.label){case 0:return[4,Fo()];case 1:return t.sent().install(e),[2]}})})}function hs(){return v(this,void 0,void 0,function(){return b(this,function(e){switch(e.label){case 0:return[4,L(C("certs"))];case 1:return[2,e.sent()]}})})}function ps(e,t,n){return v(this,void 0,void 0,function(){var r;return b(this,function(i){switch(i.label){case 0:return[4,crypto.subtle.importKey("jwk",e,{name:"ECDSA",namedCurve:"P-256"},!1,["verify"])];case 1:return r=i.sent(),[4,crypto.subtle.verify({name:"ECDSA",hash:{name:"SHA-256"}},r,n,t)];case 2:return[2,i.sent()]}})})}function li(e,t){return v(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,f,h,p,m,g,y,S;return b(this,function(O){switch(O.label){case 0:return n=e.split("."),r=W(n,3),i=r[0],o=r[1],s=r[2],a=JSON.parse(xt.decode(i)),u=JSON.parse(xt.decodeUnicode(o)),c=An(xt.decode(s)),l=An(i+"."+o),[4,hs()];case 1:if(f=O.sent(),!(h=f.keys.find(function(B){return B.kid===a.kid})))return[3,6];if(delete h.alg,a.alg!=="ES256")throw d(he,'Invalid "alg" value in ID_TOKEN');p=void 0,O.label=2;case 2:return O.trys.push([2,4,,5]),[4,ps(h,l,c)];case 3:return p=O.sent(),[3,5];case 4:throw m=O.sent(),d(he,"Failed to use Crypto API to verify ID_TOKEN: "+m);case 5:if(p){if(g=u.iss!=="https://access.line.me",y=u.aud!==t,S=1e3*u.exp<Date.now(),g)throw d(he,'Invalid "iss" value in ID_TOKEN');if(y)throw d(he,'Invalid "aud" value in ID_TOKEN');if(S)throw d(he,'Invalid "exp" value in ID_TOKEN');return[2,u]}throw d(he,"Invalid signature in ID_TOKEN");case 6:throw d(he,'Invalid "kid" value in ID_TOKEN');case 7:return[2]}})})}function On(e){var t=e.split(".");if(t[1])try{var n=t[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(window.atob(n))}catch{return null}return null}function fi(e){var t=e.pathname,n=e.query,r="liff://"+t+(n?"?"+D.stringify(n):"");location.href=r}var Xt=null;function vs(){typeof Xt=="boolean"&&I.warn("liff.init is not expected to be called more than once"),Xt=!!Tr()||!(!_()||D.parse(window.location.hash).feature_token||Te())&&(Pr(!0),!0)}function Qt(){return Boolean(Xt)}function bs(e,t){return v(this,void 0,void 0,function(){var n;return b(this,function(r){switch(r.label){case 0:return(n=Ae())?[2,n]:e&&t?[4,ui({msit:e,mstVerifier:t})]:[3,2];case 1:return[2,r.sent().mst];case 2:return[2,null]}})})}function ms(e){return L(C("apps")+"/"+e+"/featureToken")}function gs(e){return v(this,void 0,void 0,function(){var t,n,r,i;return b(this,function(o){switch(o.label){case 0:return t=D.parse(window.location.hash),n=Oo({access_token:le(),context_token:Mr(),feature_token:Te(),id_token:fn(),client_id:Lr(),mst_challenge:cn(),mst_verifier:jr(),msit:kr()},t),Qt()?K()?[4,ms(e)]:[3,2]:[3,3];case 1:r=o.sent().featureToken,n.feature_token||(n.feature_token=r),o.label=2;case 2:(i=an(e))&&(n.client_id=i),o.label=3;case 3:return[2,n]}})})}function ys(e){if(e.persisted&&be("multipleLiffTransition"))if(Q()==="ios")window.location.reload();else{var t=k().liffId,n=Te();if(!t)throw d(R,"Invalid LIFF ID.");if(!n)throw d(X,"Invalid featureToken for client features");fi({pathname:"app/"+t,query:{feature_token:n}})}}function ws(e,t){return v(this,void 0,void 0,function(){var n,r;return b(this,function(i){switch(i.label){case 0:return[4,Gr(e)];case 1:return n=i.sent().client_id,r=an(t),[2,n===r]}})})}function _s(e,t){return v(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,f,h,p,m;return b(this,function(g){switch(g.label){case 0:return[4,new Promise(function(y){var S=ie();if(!S||ne(S,"9.5.0")<0)y();else if(window._liff&&window._liff.features)y();else{I.debug("cannot find window._liff.features, listen to ready event");var O=function(){I.debug("ready event is fired"),gn("ready",O),y()};mn("ready",O)}})];case 1:return g.sent(),vs(),[4,gs(t.liffId)];case 2:if(n=g.sent(),r=n.access_token,i=n.context_token,o=n.feature_token,s=n.id_token,a=n.client_id,u=n.mst_verifier,c=n.mst_challenge,l=n.msit,i){if(typeof i!="string")throw d(R,"Cannot get context token, perhaps there is an incorrect parameter in permanent link");ct(On(i))}return!ge()&&o&&(function(y,S){be("multipleLiffTransition")&&fi({pathname:"app/"+y,query:{feature_token:S}})}(t.liffId,o),Qt()&&Wt(o)),c&&Rr(c),u&&$r(u),a&&ln(a),l&&Ar(l),window.addEventListener("pageshow",ys),K()?[3,7]:o&&r?[3,5]:Qt()?(f=yr(location.href,{"liff.hback":"2"}),e.login({redirectUri:f}),[4,new Promise(function(){})]):[3,4];case 3:g.sent(),g.label=4;case 4:throw e.login(),d(R,"Failed to parse feature_token or access_token");case 5:return[4,ws(r,t.liffId)];case 6:if(!g.sent())throw e.login(),d(R,"Failed to verify access_token");Wt(o),lt(r),g.label=7;case 7:return[4,bs(l,u)];case 8:return(h=g.sent())?(xr(h),[4,ci({mst:h})]):[3,10];case 9:(p=g.sent().data)&&it(JSON.stringify(p)),g.label=10;case 10:return s&&!fn()&&dn(s),s&&a&&!vn()?[4,li(s,a)]:[3,12];case 11:(m=g.sent())&&bn(m),g.label=12;case 12:return[2]}})})}function Is(e){return v(this,void 0,void 0,function(){var t,n,r,i,o,s,a;return b(this,function(u){switch(u.label){case 0:return t=C("apps"),n=t+"/"+e+"/contextToken",r=le(),i={"Content-Type":"application/json",Accept:"application/json"},r&&(i.Authorization="Bearer "+r),[4,L(n,{headers:i})];case 1:if(o=u.sent(),!(s=o.contextToken))throw d(R,"Can not get context from server.");if(!(a=On(s)))throw d(R,"Invalid context token.");return[2,a]}})})}function di(){return v(this,void 0,void 0,function(){var e,t;return b(this,function(n){switch(n.label){case 0:if(!(e=k().liffId))throw d(R,"Invalid LIFF ID.");return[4,Is(e)];case 1:return t=n.sent(),ct(t),[2]}})})}function Ss(e){return v(this,void 0,void 0,function(){var t,n,r,i=this;return b(this,function(o){switch(o.label){case 0:t=function(){return v(i,void 0,void 0,function(){var s,a,u,c,l,f;return b(this,function(h){switch(h.label){case 0:return[4,(p=k(),m=D.parse(window.location.search),g=pn(),y={grant_type:"authorization_code",client_id:m.liffClientId,appId:p.liffId,code:m.code,code_verifier:g.codeVerifier,redirect_uri:p.redirectUri||m.liffRedirectUri,id_token_key_type:"JWK"},S=D.stringify(y),L(C("token"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:S}))];case 1:return s=h.sent(),a=s.access_token,u=s.id_token,c=s.expires_in,ln(e),lt(a),Fr(new Date(Date.now()+1e3*c)),qt(),u?(dn(u),[4,li(u,e)]):[3,3];case 2:(l=h.sent())&&bn(l),h.label=3;case 3:return(f=D.parse(location.hash).context_token)?(ct(On(f)),[3,6]):[3,4];case 4:return[4,di()];case 5:h.sent(),h.label=6;case 6:return[2]}var p,m,g,y,S})})},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t()];case 2:return o.sent(),[3,4];case 3:throw n=o.sent(),r=n,qt(),r;case 4:return[2]}})})}function hi(){return v(this,void 0,void 0,function(){var e,t,n,r,i,o,s=this;return b(this,function(a){switch(a.label){case 0:return(t=ye())?[3,2]:[4,wn(xe.SUB)];case 1:t=a.sent(),a.label=2;case 2:return(e=t).isReady()?(n=Oe(8),[4,e.getData("appData")]):[3,8];case 3:return r=a.sent(),i=r.eventName,o=r.data,i!==et.NOT_FOUND?[3,6]:[4,e.teardown()];case 4:return a.sent(),[4,hi()];case 5:return[2,a.sent()];case 6:o&&it(JSON.stringify(o)),a.label=7;case 7:return e.listen(function(u){return v(s,void 0,void 0,function(){var c,l;return b(this,function(f){return c=u.context,l=c.data,c.eventName===E.INIT&&(l==null?void 0:l.subWindowId)!==n&&Le(),c.eventName!==E.CANCEL&&c.eventName!==E.SUBMIT||e.teardown(),[2]})})}),K()&&e.send({eventName:E.INIT,data:{subWindowId:n,hasOpener:!!window.opener}}),[3,10];case 8:return _n()?[3,10]:[4,new Promise(function(u){window.addEventListener("message",function(c){return function l(f){var h=f.data,p=f.source,m=f.origin;if(h){var g=h.type,y=h.message;g===rt&&(window.removeEventListener("message",l),y&&it(y),oi(m),p&&p.postMessage&&p.postMessage({status:rt},m),c())}}}(u))})];case 9:return[2,a.sent()];case 10:return[2]}})})}var Os=new(function(){function e(){var t=this;this.getAndValidateContext=function(){var n=J();if(!n)throw d(R,"Could not get Context from server.");if(!n.endpointUrl)throw d(R,"Could not get endpointUrl from server.");if(!n.permanentLinkPattern)throw d(R,"Could not get permanentLinkPattern from server.");return n},this.decodeState=function(n){var r=t.getAndValidateContext();n=n.replace(/\n/g,"%0D%0A");var i=!r.endpointUrl.startsWith("/?")&&r.endpointUrl.includes("/?")||!r.endpointUrl.startsWith("/#")&&r.endpointUrl.includes("/#")||r.endpointUrl.endsWith("/")||!n.startsWith("/?")&&n.includes("/?")||!n.startsWith("/#")&&n.includes("/#")||n.endsWith("/"),o=new URL(r.endpointUrl),s=o.origin,a=o.pathname,u=o.search,c=new URL(""+s+t.attachSlashAtStart(n)),l=c.pathname,f=c.search,h=c.hash,p=""+u+(u?f.replace(/\?/g,"&"):f),m=(""+a+t.attachSlashAtStart(l)).replace("//","/");return(m=t.attachSlashAtStart(""+m)).endsWith("/")&&!i&&(m=m.substring(0,m.length-1)),(""+s+m+p+h).replace(/%0D%0A/g,`
`)}}return e.prototype.attachSlashAtStart=function(t){return(t&&t.length>0&&!t.startsWith("/")?"/":"")+t},e.prototype.invoke=function(){return v(this,void 0,void 0,function(){var t,n,r,i,o;return b(this,function(s){switch(s.label){case 0:if(t=D.parse(window.location.search),typeof(n=t["liff.state"])!="string")return[2];s.label=1;case 1:return s.trys.push([1,4,,5]),r=location.href,(i=this.decodeState(n))===r?[3,3]:(t["liff.hback"]?location.replace(yr(i,{"liff.hback":t["liff.hback"]})):location.replace(i),[4,new Promise(function(){})]);case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if((o=s.sent()).code===R)throw o;return I.debug(o),[3,5];case 5:return[2]}})})},e}());function Es(e,t,n){return v(this,void 0,void 0,function(){var r;return b(this,function(i){switch(i.label){case 0:if(!t.liffId)throw d(re,"liffId is necessary for liff.init()");return Or(t),!_()&&K()&&(Dr()||Hr()),r=D.parse(window.location.search),!ge()||_()?[3,2]:[4,hi()];case 1:i.sent(),i.label=2;case 2:if(r.error&&r.liffOAuth2Error)throw a=r.error,u=r.error_description,c=u.replace(/\+/g," "),d(R,a+": "+c);return o=r.code,s=pn(),Boolean(o&&!K()&&s&&s.codeVerifier)?[4,Ss(r.liffClientId)]:[3,4];case 3:i.sent(),i.label=4;case 4:return _()?[4,_s(e,t)]:[3,6];case 5:return i.sent(),[3,8];case 6:return K()?[3,8]:[4,di()];case 7:i.sent(),i.label=8;case 8:return[4,Os.invoke()];case 9:return i.sent(),[4,n()];case 10:return i.sent(),_o(window.location.href),[2]}var o,s,a,u,c})})}var Wn=function(e,t){return new Promise(function(n,r){if(e){var i=document.createElement("script");i.type="module",i.onload=function(){n()},i.src=e,document.head.appendChild(i)}else r(d(re,t))})};function Ts(){return v(this,void 0,void 0,function(){var e;return b(this,function(t){switch(t.label){case 0:return _()||Q()!=="android"||(e=D.parse(window.location.search))[zr]||!(e.liffClientId&&document.referrer===""||document.referrer.includes("liffClientId"))||e.liffIsEscapedFromApp?[3,4]:[4,Wn("https://static.line-scdn.net/lui/edge/versions/1.13.0/luivendor.js","LUI_VENDOR_URL is not defined")];case 1:return t.sent(),[4,Wn("https://static.line-scdn.net/lui/edge/versions/1.13.0/lui-alert.js","LUI_ALERT_URL is not defined")];case 2:return t.sent(),[4,(n=Oe(6),new Promise(function(){var r=document.createElement("div");r.innerHTML='<lui-alert id="liffAlert-'+n+'" shown title="Login successfully!" message="Continue to launch LIFF app!"></lui-alert>',document.body.appendChild(r);var i=document.getElementById("liffAlert-"+n);i&&i.addEventListener("lui-button-click",function(){var o=window.open(window.location.href+"&liffIsEscapedFromApp=true","_blank");o&&(o.location.href=window.location.href+"&liffIsEscapedFromApp=true",window.close())})}))];case 3:t.sent(),t.label=4;case 4:return[2]}var n})})}var Ps=function(){function e(){this.hooks={before:new je,after:new je},this.internalHooks={beforeFinished:new je,beforeSuccess:new je,error:new je}}return Object.defineProperty(e.prototype,"name",{get:function(){return"init"},enumerable:!1,configurable:!0}),e.prototype.install=function(t){var n=t.liff;return this.liff=n,this.init.bind(this)},e.prototype.init=function(t,n,r){return v(this,void 0,void 0,function(){var i;return b(this,function(o){switch(o.label){case 0:return[4,this.hooks.before.call()];case 1:o.sent(),s=this.liff,window&&!window.liff&&(window.liff=s),o.label=2;case 2:return o.trys.push([2,9,,11]),[4,Promise.all([ds(this.liff),Es(this.liff,t,this.internalHooks.beforeFinished.call)])];case 3:return o.sent(),fs(),[4,this.internalHooks.beforeSuccess.call()];case 4:return o.sent(),!t.withLoginOnExternalBrowser||K()?[3,6]:(this.liff.login(),[4,new Promise(function(){})]);case 5:o.sent(),o.label=6;case 6:return[4,Ts()];case 7:return o.sent(),[4,this.hooks.after.call()];case 8:return o.sent(),typeof n=="function"&&n(),on(),[3,11];case 9:return i=o.sent(),[4,this.internalHooks.error.call(i)];case 10:throw o.sent(),typeof r=="function"&&r(i),i;case 11:return[2]}var s})})},e}(),Cs=Object.freeze(Object.defineProperty({__proto__:null,InitModule:Ps},Symbol.toStringTag,{value:"Module"})),js=T(Cs);function En(){return"2.20.2"}var $s=Object.freeze(Object.defineProperty({__proto__:null,getVersion:En},Symbol.toStringTag,{value:"Module"})),pi={exports:{}};(function(e){(function(t,n){e.exports?e.exports=n():t.sha256=n()})(z,function(){var t=function n(r){function i(qe,Ve){return qe>>>Ve|qe<<32-Ve}for(var o=Math.pow,s=o(2,32),a="length",u,c,l="",f=[],h=r[a]*8,p=n.h=n.h||[],m=n.k=n.k||[],g=m[a],y={},S=2;g<64;S++)if(!y[S]){for(u=0;u<313;u+=S)y[u]=S;p[g]=o(S,.5)*s|0,m[g++]=o(S,.3333333333333333)*s|0}for(r+="\x80";r[a]%64-56;)r+="\0";for(u=0;u<r[a];u++){if(c=r.charCodeAt(u),c>>8)return;f[u>>2]|=c<<(3-u)%4*8}for(f[f[a]]=h/s|0,f[f[a]]=h,c=0;c<f[a];){var O=f.slice(c,c+=16),B=p;for(p=p.slice(0,8),u=0;u<64;u++){var fe=O[u-15],ee=O[u-2],te=p[0],de=p[4],oe=p[7]+(i(de,6)^i(de,11)^i(de,25))+(de&p[5]^~de&p[6])+m[u]+(O[u]=u<16?O[u]:O[u-16]+(i(fe,7)^i(fe,18)^fe>>>3)+O[u-7]+(i(ee,17)^i(ee,19)^ee>>>10)|0),kt=(i(te,2)^i(te,13)^i(te,22))+(te&p[1]^te&p[2]^p[1]&p[2]);p=[oe+kt|0].concat(p),p[4]=p[4]+oe|0}for(u=0;u<8;u++)p[u]=p[u]+B[u]|0}for(u=0;u<8;u++)for(c=3;c+1;c--){var We=p[u]>>c*8&255;l+=(We<16?0:"")+We.toString(16)}return l};return t.code='var sha256=function a(b){function c(a,b){return a>>>b|a<<32-b}for(var d,e,f=Math.pow,g=f(2,32),h="length",i="",j=[],k=8*b[h],l=a.h=a.h||[],m=a.k=a.k||[],n=m[h],o={},p=2;64>n;p++)if(!o[p]){for(d=0;313>d;d+=p)o[d]=p;l[n]=f(p,.5)*g|0,m[n++]=f(p,1/3)*g|0}for(b+="\\x80";b[h]%64-56;)b+="\\x00";for(d=0;d<b[h];d++){if(e=b.charCodeAt(d),e>>8)return;j[d>>2]|=e<<(3-d)%4*8}for(j[j[h]]=k/g|0,j[j[h]]=k,e=0;e<j[h];){var q=j.slice(e,e+=16),r=l;for(l=l.slice(0,8),d=0;64>d;d++){var s=q[d-15],t=q[d-2],u=l[0],v=l[4],w=l[7]+(c(v,6)^c(v,11)^c(v,25))+(v&l[5]^~v&l[6])+m[d]+(q[d]=16>d?q[d]:q[d-16]+(c(s,7)^c(s,18)^s>>>3)+q[d-7]+(c(t,17)^c(t,19)^t>>>10)|0),x=(c(u,2)^c(u,13)^c(u,22))+(u&l[1]^u&l[2]^l[1]&l[2]);l=[w+x|0].concat(l),l[4]=l[4]+w|0}for(d=0;8>d;d++)l[d]=l[d]+r[d]|0}for(d=0;8>d;d++)for(e=3;e+1;e--){var y=l[d]>>8*e&255;i+=(16>y?0:"")+y.toString(16)}return i};',t})})(pi);var ks=pi.exports,As=function(){function e(){this.hooks={before:new ls}}return Object.defineProperty(e.prototype,"name",{get:function(){return"login"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return this.login.bind(this)},e.prototype.login=function(t){var n;this.hooks.before.call(t);var r=Oe(43),i=mo(ks(r)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),o=k();if(!o||!o.liffId)throw d(re,"You need to define `liffId` for liff.login()");var s={app_id:o.liffId,state:Oe(12),response_type:"code",code_challenge_method:"S256",code_challenge:i,liff_sdk_version:En()};t&&t.redirectUri&&(s.redirect_uri=t.redirectUri),ge()&&!_()&&(!((n=ye())===null||n===void 0)&&n.isReady()?s.redirect_uri=window.location.href:s.disable_auto_login="true"),Nr({codeVerifier:r});var a=C("authorize")+"?"+D.stringify(s);I.debug("[Redirect] "+a),window.location.href=a},e}(),xs=Object.freeze(Object.defineProperty({__proto__:null,LoginModule:As},Symbol.toStringTag,{value:"Module"})),Rs=T(xs),Ls=T($o),Ms=T(To),Ns=T(uo),Fs=T(xo),Ds=T($s);function Us(){return navigator.language}var Bs=Object.freeze(Object.defineProperty({__proto__:null,getLanguage:Us},Symbol.toStringTag,{value:"Module"})),Hs=T(Bs);function vi(){return L(C("profile"))}var Ws=Object.freeze(Object.defineProperty({__proto__:null,getProfile:vi},Symbol.toStringTag,{value:"Module"})),qs=T(Ws),Vs=T(ko),Gs=T(Do),zs=T(ns),Ks=T(Ro),Js=T(Vo),Xs=function(e,t){return e?"&"+e.split("&").filter(function(n){return n.indexOf("is_liff_external_open_window")===-1}).join("&").concat(t?"#"+t:""):t?"#"+t:""};function Qs(e){if(!function(o){if(!o||typeof o!="object")return!1;var s=o,a=s.url,u=s.external,c=W([typeof a,typeof u],2),l=c[0],f=c[1];return l==="string"&&a!==""&&(f==="undefined"||f==="boolean")}(e))throw d(A,"Invalid parameters for liff.openWindow()");var t=ie();if(_())if(t!==null&&Q()==="ios"&&ne(t,"9.19")>=0||!window._liff.postMessage){var n=e.url,r=e.external,i=r!==void 0&&r;window.open(function(o,s){var a,u,c,l,f,h,p,m,g;return function(y){return y.indexOf("#")!==-1&&y.indexOf("?")!==-1&&y.indexOf("#")<y.indexOf("?")}(o)||function(y){return y.indexOf("?")===-1&&y.indexOf("#")!==-1}(o)?(p=(a=W(o.split("#"),2))[0],u=a[1],m=(c=W((u===void 0?"":u).split("?"),2))[0],g=c[1]):(p=(l=W(o.split("?"),2))[0],f=l[1],g=(h=W((f===void 0?"":f).split("#"),2))[0],m=h[1]),p+"?is_liff_external_open_window="+!!s+Xs(g,m)}(n,i))}else yn("openWindow",e);else window.open(e.url,"_blank")}var Ys=Object.freeze(Object.defineProperty({__proto__:null,openWindow:Qs},Symbol.toStringTag,{value:"Module"})),Zs=T(Ys),ea=T(rs),ta=function(e){return typeof e=="object"&&e!==null&&function(t){return typeof t=="string"||t instanceof String}(e.type)};function qn(e){return Promise.reject(d(A,e))}function na(e){if(!function(n){return Array.isArray(n)&&n.every(ta)}(e))return qn("Parameter 'messages' must be an array of { type, ... }");var t=e.length;return t<1||t>5?qn("Number of messages should be in range 1 to 5."):L(C("message"),{method:"POST",body:JSON.stringify({messages:e})}).catch(bi)}var bi=function(e){if(e.code==="403"){var t=ie()==="12.0.0",n=Q()==="ios",r=un();t&&(n||r)&&window.alert(`LINE\u30A2\u30D7\u30EA\u3092LINE 12.0.1\u4EE5\u964D\u306B\u30A2\u30C3\u30D7\u30C7\u30FC\u30C8\u3057\u3066\u304F\u3060\u3055\u3044\u3002
Please update your LINE app to LINE 12.0.1 or later.`)}throw e},ra=Object.freeze(Object.defineProperty({__proto__:null,alertToPromptUpdate:bi,sendMessages:na},Symbol.toStringTag,{value:"Module"})),ia=T(ra);function oa(){return L(C("friendship"))}var sa=Object.freeze(Object.defineProperty({__proto__:null,getFriendship:oa},Symbol.toStringTag,{value:"Module"})),aa=T(sa),ua=T(cs),ca=function(e,t){this._driver=e,this.liff=t,this.hooks=this._driver.hooks,this.internalHooks=this._driver.internalHooks},la=function(e,t){this._driver=e,this.liff=t,this.hooks=this._driver.hooks},fa=function(){function e(){this.modules=new Map,this.hooks={},this.internalHooks={}}return e.prototype.addModule=function(t,n){this.modules.set(t,n),n.hooks&&(this.hooks[t]=Object.entries(n.hooks).reduce(function(r,i){var o,s=W(i,2),a=s[0],u=s[1];return P(P({},r),((o={})[a]=u.on.bind(u),o))},{})),n.internalHooks&&(this.internalHooks[t]=Object.entries(n.internalHooks).reduce(function(r,i){var o,s=W(i,2),a=s[0],u=s[1];return P(P({},r),((o={})[a]=u.on.bind(u),o))},{}))},e.prototype.hasModule=function(t){return this.modules.has(t)},e}(),da=function(){function e(t,n,r){this.driver=t,this.context=n,this.option=r}return e.prototype.install=function(){return this.factory(this.driver,this.context)},Object.defineProperty(e.prototype,"name",{get:function(){return"use"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultOption",{get:function(){return{namespacePrefix:"$"}},enumerable:!1,configurable:!0}),e.prototype.factory=function(t,n){var r=Object.assign({},this.defaultOption,this.option).namespacePrefix;return function(i,o){if(!i||typeof i.install!="function"||typeof i.name!="string")return I.warn("To install the plugin, you need to define the `name` property and the `install` method."),this;var s=""+r+i.name;if(t.hasModule(s))return this;var a=i.install.call(i,n,o);return this[""+s]?(I.warn("There is a duplicate plugin name. `"+s+"` plugin namespace will be override."),this[""+s]=a):a!==void 0&&(this[""+s]=a),t.addModule(s,i),this}},e}(),ha=Object.freeze(Object.defineProperty({__proto__:null,LiffPluginContextImpl:la,ModuleContextImpl:ca,ModuleDriverImpl:fa,UseModule:da},Symbol.toStringTag,{value:"Module"})),pa=T(ha);function va(){return v(this,void 0,void 0,function(){var e,t;return b(this,function(n){switch(n.label){case 0:if(!K())return[3,6];n.label=1;case 1:return n.trys.push([1,5,,6]),(e=vn())&&e.sub?[2,e.sub]:[3,2];case 2:return[4,vi()];case 3:if((t=n.sent())&&t.userId)return[2,t.userId];n.label=4;case 4:return[3,6];case 5:return n.sent(),I.debug("can't retrieve Mid/Uid because of something wrong"),[3,6];case 6:return[2]}})})}function ba(){return v(this,void 0,void 0,function(){var e;return b(this,function(t){switch(t.label){case 0:return[4,va()];case 1:return(e=t.sent())&&e.substring(0,1)==="u"?[2,e]:[2]}})})}var ma=function(){function e(){this.utsExtra={isLiffSuccessful:!1,isLoggedIn:!1,id:"",version:""},this.injected=!1}return Object.defineProperty(e,"CUSTOMPLACEID_INIT",{get:function(){return"liff.init"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CUSTOMTYPE",{get:function(){return"liffSdk"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"GENERAL_UTS_ID",{get:function(){return"liff_general"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"GENERAL_APP_NAME",{get:function(){return"LIFF General"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"LiffUtsLoginStatus",{get:function(){return{isLoggedIn:1,isLiffSuccessful:2}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return"analytics"},enumerable:!1,configurable:!0}),e.prototype.install=function(t){var n=t.liff,r=t.internalHooks;this.liffCore=n,r.init.beforeFinished(this.beforeInitFinished.bind(this)),r.init.beforeSuccess(this.beforeInitSuccess.bind(this)),r.init.error(this.initError.bind(this))},e.prototype.changeRatioToUTSFormat=function(t){if(t&&Number.isFinite(t))return Math.round(100*t)},e.prototype.setExtra=function(){var t=this.utsExtra,n=t.isLiffSuccessful,r=t.isLoggedIn,i=t.id,o=t.version,s=(r?e.LiffUtsLoginStatus.isLoggedIn:0)|(n?e.LiffUtsLoginStatus.isLiffSuccessful:0);this.uts.setExtra("liff",{id:i,loginStatus:s,version:o})},e.prototype.assignUtsExtra=function(t){Object.assign(this.utsExtra,t)},e.prototype.setVersion=function(t){this.assignUtsExtra({version:t}),I.debug("[LIFFUTS][SDK version] "+t),this.setExtra()},e.prototype.setLiffId=function(t){this.assignUtsExtra({id:t}),I.debug("[LIFFUTS][LIFFID] "+t),this.setExtra()},e.prototype.setIsLoggedIn=function(t){this.assignUtsExtra({isLoggedIn:t}),I.debug("[LIFFUTS][isLoggedIn] "+t),this.setExtra()},e.prototype.sendLiffInit=function(){I.debug("[LIFFUTS][sendCustom] liff.init"),this.uts.sendCustom({type:e.CUSTOMTYPE,params:{placeId:e.CUSTOMPLACEID_INIT}})},e.prototype.setIsLiffSuccessful=function(t){this.assignUtsExtra({isLiffSuccessful:t}),I.debug("[LIFFUTS][isLiffInitSuccessful] "+t),this.setExtra()},e.prototype.prepareReferrer=function(t){var n={};Object.keys(t).forEach(function(r){if(lo.includes(r)){var i=t[r];typeof i=="string"&&i&&(n[r.replace(/^liff\.ref\./,"")]=i)}}),Object.keys(n).length>0&&(this.referrer=n)},e.prototype.beforeInitFinished=function(){return v(this,void 0,void 0,function(){var t,n,r,i,o,s,a,u,c,l,f,h,p;return b(this,function(m){switch(m.label){case 0:if(t=D.parse(window.location.search),this.prepareReferrer(t),n=J(),!(r=n==null?void 0:n.utsTracking))return[2];if((i=r.mode)!=="auto"&&i!=="force")return[3,6];I.debug("[LIFFUTS] "+new Date().toUTCString()),o=k(),s=o.liffId,a=o.analytics,m.label=1;case 1:return m.trys.push([1,3,,4]),u=this,[4,new Promise(function(g,y){var S=window.uts,O=document.createElement("script");O.type="text/javascript",O.src="https://static.line-scdn.net/uts/edge/4.1.0/uts.js",O.onload=function(){var B=window.uts;g(B),window.uts=S},O.onerror=function(B){y(B)},document.getElementsByTagName("head")[0].appendChild(O)})];case 2:return u.uts=m.sent(),[3,4];case 3:return c=m.sent(),I.debug("[LIFFUTS] cannot load UTS, reason: "+c),[2];case 4:return l=void 0,f=void 0,i==="force"?(l={utsId:e.GENERAL_UTS_ID,appName:e.GENERAL_APP_NAME,appEnv:"release"},f={endpoint:"https://uts-front.line-apps.com",sampleRate:this.changeRatioToUTSFormat(r.sendRatio),version:"current"}):(l=P(P({},a==null?void 0:a.context),{utsId:(a==null?void 0:a.context.utsId)||e.GENERAL_UTS_ID,appName:(a==null?void 0:a.context.appName)||e.GENERAL_APP_NAME,appEnv:(a==null?void 0:a.context.appEnv)||"release"}),f=P(P({endpoint:"https://uts-front.line-apps.com"},a==null?void 0:a.options),{sampleRate:this.changeRatioToUTSFormat(r.sendRatio),version:"current"})),this.uts.init(l,f),[4,ba()];case 5:(h=m.sent())&&(I.debug("[LIFFUTS][mid] "+h),this.uts.setMid(h)),n!=null&&n.tid&&(I.debug("[LIFFUTS][tid] "+n.tid),this.uts.setTid(n.tid)),this.referrer&&(I.debug("liff.ref.referrer",this.referrer),this.uts.setSessionParams(this.referrer)),s&&this.setLiffId(s),this.setIsLoggedIn(K()),this.setVersion(En()),p=gr(location.href),I.debug("[LIFFUTS][url] "+p),this.uts.setUrl(p),this.liffCore.analytics=this.uts,this.injected=!0,m.label=6;case 6:return[2]}})})},e.prototype.beforeInitSuccess=function(){return this.injected&&(this.setIsLiffSuccessful(!0),this.sendLiffInit()),Promise.resolve()},e.prototype.initError=function(){return this.injected&&(this.setIsLiffSuccessful(!1),this.sendLiffInit()),Promise.resolve()},e}(),mi=function(e){I.debug("[LIFFUTS][sendCustom] liff.shareTargetPicker"),e.sendCustom({type:"liffSdk",params:{placeId:"liff.shareTargetPicker"}})},ga=Object.freeze(Object.defineProperty({__proto__:null,AnalyticsModule:ma,sendShareTargetPicker:mi},Symbol.toStringTag,{value:"Module"})),ya=T(ga);function wa(e){return v(this,void 0,void 0,function(){var t,n;return b(this,function(r){switch(r.label){case 0:return[4,fetch(C("permanentLink"),{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:JSON.stringify(e)})];case 1:return(t=r.sent()).ok?[3,3]:[4,t.json()];case 2:throw n=r.sent().message,d(F,n);case 3:return[4,t.json()];case 4:return[2,r.sent()]}})})}var gi=function(){function e(){var t=this;this.extraParams="",this.getAndValidateContext=function(){var n=J();if(!n)throw d(R,"Could not get Context from server.");if(!n.endpointUrl)throw d(R,"Could not get endpointUrl from server.");if(!n.permanentLinkPattern)throw d(R,"Could not get permanentLinkPattern from server.");return n},this.createUrl=function(){var n=t.getAndValidateContext(),r=window.location,i=r.pathname,o=r.search,s=r.hash,a=r.origin,u=new URL(n.endpointUrl);if(u.origin!==a||!t.isAncestor(u.pathname,i))throw d(re,"Current page is not under entrypoint.");var c=i.substring(u.pathname.length);c.length>0&&c[0]!=="/"&&(c="/"+c);var l=new RegExp("^"+pr.join("|")),f=s.substring(1).split("&").filter(function(ee){return!l.test(ee)&&Boolean(ee)}).join("&"),h=f===u.hash.substring(1)?"":f,p=function(ee){return ee.substring(1).split("&").filter(function(te){return!/liff\.state/.test(te)&&Boolean(te)})},m=p(o),g=p(u.search);t.extraParams&&m.push(t.extraParams);for(var y=0;y<g.length;y++){var S=g[y],O=m.indexOf(S);O>-1&&m.splice(O,1)}var B=m.join("&"),fe=c+(B!==""?"?"+B:"")+(h?"#"+h:"");return""+hr+k().liffId+fe},this.createUrlBy=function(n){return v(t,void 0,void 0,function(){var r,i;return b(this,function(o){switch(o.label){case 0:if(!(r=k().liffId))throw d(R,"Should run after liff init.");try{i=new URL(n)}catch{throw d(A,"invalid URL.")}return[4,wa({liffId:r,currentPageUrl:i.toString()})];case 1:return[2,o.sent().permanentLinkUrl]}})})},this.setExtraQueryParam=function(n){t.extraParams=n},this.isAncestor=function(n,r){return r.indexOf(n)===0&&(n.endsWith("/")&&(n=n.substring(0,n.length-1)),r[n.length]===void 0||r[n.length]==="/")},this.install=function(){return{createUrl:t.createUrl,createUrlBy:t.createUrlBy,setExtraQueryParam:t.setExtraQueryParam}}}return Object.defineProperty(e.prototype,"name",{get:function(){return"permanentLink"},enumerable:!1,configurable:!0}),e}(),_a=new gi,Ia=Object.freeze(Object.defineProperty({__proto__:null,PermanentLink:gi,module:_a},Symbol.toStringTag,{value:"Module"})),Sa=T(Ia),Oa=T(Ho),Se,Ea=function(){function e(t,n){var r=this;this.resolve=t,this.reject=n,this.onSubmit=function(i){var o=i.message;r.resolve({value:o}),r.destroy()},this.onClose=function(){r.resolve({value:null}),r.destroy()},this.onCancel=function(){r.resolve({value:null}),r.destroy()},this.onError=function(i){r.reject(i),r.destroy()},this.start()}return e.prototype.start=function(){G.on("submit",this.onSubmit),G.on("close",this.onClose),G.on("cancel",this.onCancel),G.on("error",this.onError)},e.prototype.destroy=function(){G.off("submit",this.onSubmit),G.off("close",this.onClose),G.off("cancel",this.onCancel),G.off("error",this.onError),Se=void 0},e}();function Ta(){return v(this,void 0,void 0,function(){return b(this,function(e){if(!be("subwindowOpen")||!be("scanCodeV2"))throw d(X,"No permission for liff.scanCodeV2()");return Se&&Se.destroy(),[2,new Promise(function(t,n){Se=new Ea(t,n),G.open({url:"https://liff.line.me/1656359117-jxmx5e11"}).catch(function(r){Se==null||Se.destroy(),n(r)})})]})})}var yi=function(){function e(){}return Object.defineProperty(e.prototype,"name",{get:function(){return"scanCodeV2"},enumerable:!1,configurable:!0}),e.prototype.install=function(){return Ta},e}(),Pa=new yi,Ca=Object.freeze(Object.defineProperty({__proto__:null,ScanCodeV2Module:yi,module:Pa},Symbol.toStringTag,{value:"Module"})),ja=T(Ca);function wi(e){return v(this,void 0,void 0,function(){var t,n,r,i,o,s,a;return b(this,function(u){switch(u.label){case 0:return function(c){if(!po.includes(c))throw d(A,"Unexpected permission name.");var l=J();return!!(l!=null&&l.scope.includes(c))}(e)?(t=le())?[4,Gr(t)]:[3,2]:[2,{state:"unavailable"}];case 1:n=u.sent(),r=unescape(n.scope).split(" ");try{for(i=ut(r),o=i.next();!o.done;o=i.next())if(o.value.includes(e))return[2,{state:"granted"}]}catch(c){s={error:c}}finally{try{o&&!o.done&&(a=i.return)&&a.call(i)}finally{if(s)throw s.error}}return[2,{state:"prompt"}];case 2:throw d(q,"LiffId is not found.")}})})}function _i(){var e,t,n=J();return!!n&&n.type!=="square_chat"&&(be("skipChannelVerificationScreen")||!_()&&((t=(e=n.availability)===null||e===void 0?void 0:e.skipChannelVerificationScreen)===null||t===void 0?void 0:t.permission))}function $a(){var e=k().liffId;if(e)return L(C("unauthorizedPermissions")+"?liffId="+e,{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+le()}});throw d(q,"liffId is required")}var nt,Xe=G.on,Qe=G.off,ka=G.open,Aa=function(){function e(t,n){var r=this;this.onSubmit=function(i){var o=i.newAccessToken,s=i.ICA_ERROR;return v(r,void 0,void 0,function(){return b(this,function(a){return o?this.resolve({newAccessToken:o}):s&&this.reject(d(F,s)),this.teardown(),[2]})})},this.onClose=function(){return v(r,void 0,void 0,function(){return b(this,function(i){return this.reject(d(q,"user didn't allow the agreement")),this.teardown(),[2]})})},this.onCancel=function(){return v(r,void 0,void 0,function(){return b(this,function(i){return this.reject(d(q,"user didn't allow the agreement")),this.teardown(),[2]})})},this.onError=function(i){return v(r,void 0,void 0,function(){return b(this,function(o){return this.reject(i),this.teardown(),[2]})})},this.resolve=t,this.reject=n,this.setup()}return e.prototype.setup=function(){Xe("submit",this.onSubmit),Xe("close",this.onClose),Xe("cancel",this.onCancel),Xe("error",this.onError)},e.prototype.teardown=function(){Qe("submit",this.onSubmit),Qe("close",this.onClose),Qe("cancel",this.onCancel),Qe("error",this.onError),nt=void 0},e.prototype.open=function(){var t=k().liffId;t?ka({url:"https://liff.line.me/1656032314-Xgrw5Pmk",appData:{liffId:t,channelId:an(t),accessToken:le()}}):this.reject(d(q,"liffId is required"))},e}();function Ii(){return v(this,void 0,void 0,function(){var e,t;return b(this,function(n){switch(n.label){case 0:if(!_i())throw d(X,"SkipChannelVerificationScreen is unavailable.");return nt&&nt.teardown(),[4,$a()];case 1:return e=n.sent(),(_()?e:e.filter(function(r){return r!=="chat_message.write"})).length>0?[4,new Promise(function(r,i){(nt=new Aa(r,i)).open()})]:[3,3];case 2:return t=n.sent().newAccessToken,lt(t),[3,4];case 3:throw d(X,"All permissions have already been approved.");case 4:return[2]}})})}function xa(e,t){var n=this;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return v(n,void 0,void 0,function(){var o,s,a;return b(this,function(u){switch(u.label){case 0:return o=(r.length>0?r[r.length-1]:{}).ignorePermissionCheck,s=o!==void 0&&o,[4,wi(t)];case 1:if((a=u.sent().state)!=="unavailable")return[3,2];throw d(X,"The permission is not in LIFF app scope.");case 2:return a!=="prompt"||!_i()||s||!_()&&t==="chat_message.write"?[3,4]:[4,Ii()];case 3:return u.sent(),[3,5];case 4:s&&r.pop(),u.label=5;case 5:return[4,e.apply(void 0,ue(r))];case 6:return[2,u.sent()]}})})}}var Si=function(){function e(){this.name="permission"}return e.prototype.install=function(){return{query:wi,requestAll:Ii}},e}(),Ra=new Si,La=Object.freeze(Object.defineProperty({__proto__:null,PermissionModule:Si,attachChecker:xa,module:Ra},Symbol.toStringTag,{value:"Module"})),Ma=T(La),Oi={};function Na(){return Oi}function Ei(e,t){var n=Na(),r=W(t.split("."),1)[0],i=n[t];i&&e.removeEventListener(r,i),n[t]=null}var Vn=!1,Gn=!1;function Fa(e,t,n,r){Vn||(Gn=function(){var o=!1;try{var s=Object.defineProperty({},"passive",{get:function(){return o=!0,!1}});window.addEventListener("test",s,s),window.removeEventListener("test",s,s)}catch{o=!1}return o}(),Vn=!0);var i=W(t.split("."),1)[0];return new Promise(function(o){var s=function(a){o(a),n&&n(a),r&&r.once&&Ei(e,t)};(function(a,u){Oi[a]=u})(t,s),e.addEventListener(i,s,!!Gn&&r)})}function zn(e,t,n,r){if(n===void 0&&(n={}),typeof e!="object"||!e.postMessage)throw d(A,"target must be window object");if(typeof t!="string")throw d(A,"keyname must be string");if(typeof n!="object")throw d(A,"incorrect body format. It should be Object or Array comprised of Object");if(!r)throw d(A,"serverEndPointUrl isn't passed. please fill up with proper url");if(r==="*")throw new Error("serverEndPointUrl doesn't allow to set '*'");var i={name:t,body:n};e.postMessage(i,r)}function Da(e,t,n,r){Fa(e,"message."+t,function(i,o,s){return function(a){I.debug("messageReceive",a),a.origin===s&&a.data.name===i&&o(a)}}(t,n,r))}var Ua=function(){function e(){this.payloadToShareTargetPicker=null,this.popupWindow=null,this.doesWaitForSubwindowResult=!1}return e.getInstance=function(){return e.instance?e.instance.reset():e.instance=new e,e.instance},e.prototype.init=function(t){return v(this,void 0,void 0,function(){var n,r;return b(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),this.liffId=t.referrer.liffId,this.doesWaitForSubwindowResult=!(!t.options||!t.options.waitForSubwindowResult),this.allowPostMessageOrigin=this.initAllowPostMessageOrigin(),this.payloadToShareTargetPicker=this.buildPayloadToShareTargetPicker(t),window.AbortController&&(this.abortController=new window.AbortController),this.prepareAnotherWindow(),[4,this.initOtt()];case 1:return i.sent(),this.initListener(),this.openAnotherWindow(),this.doesWaitForSubwindowResult?[4,this.pollingShareResult()]:[3,3];case 2:return n=i.sent(),this.finalize(),[2,n];case 3:return[2];case 4:return[3,6];case 5:if(r=i.sent(),this.finalize(),r.name!=="AbortError")throw r;return[3,6];case 6:return[2]}})})},e.prototype.resetAllVariables=function(){this.liffId="",this.allowPostMessageOrigin="",this.payloadToShareTargetPicker=null,this.ott="",this.popupWindow=null,this.timeoutIDForHealthCheck=null,this.abortController=null,this.internalError=null,this.doesWaitForSubwindowResult=!1},e.prototype.reset=function(){this.finalize(),this.resetAllVariables()},e.prototype.finalize=function(){var t,n;this.abortController&&this.abortController.abort(),_()||(t=this.timeoutIDForHealthCheck,n=this.popupWindow,Ei(window,"message.receivedHealthcheck"),t&&clearTimeout(t),n&&!n.closed&&n.close())},e.prototype.buildPayloadToShareTargetPicker=function(t){return{messages:t.messages,isMultiple:t.isMultiple,referrer:t.referrer}},e.prototype.initAllowPostMessageOrigin=function(t){return t===void 0&&(t=C("shareTargetPicker")),Io(t)},e.prototype.initOtt=function(){return v(this,void 0,void 0,function(){var t,n,r;return b(this,function(i){switch(i.label){case 0:return this.abortController&&(t=this.abortController.signal),n=C("shareTargetPickerOtt")+"/"+this.liffId+"/ott",r=this,[4,L(n,{method:"GET",signal:t}).then(function(o){return o.ott})];case 1:return r.ott=i.sent(),[2]}})})},e.prototype.prepareAnotherWindow=function(){_()||(Q()!=="ios"||un()?this.popupWindow=window.open("","liffpopup","width=480, height=640, menubar=no, toolbar=no, scrollbars=yes"):this.popupWindow=window.open())},e.prototype.openAnotherWindow=function(){if(_()&&this.payloadToShareTargetPicker)t=this.liffId,n=this.ott,r=this.payloadToShareTargetPicker,i={liffId:t,ott:n,data:JSON.stringify(r),closeModals:!1},location.href="line://picker?"+D.stringify(i);else{if(this.timeoutIDForHealthCheck=window.setTimeout(this.healthCheck.bind(this),1e3),!this.popupWindow)throw d(Bt);(function(o,s,a){var u={liffId:s,ott:a};o.location.href=C("shareTargetPicker")+"?"+D.stringify(u)})(this.popupWindow,this.liffId,this.ott)}var t,n,r,i},e.prototype.initListener=function(){var t,n;_()||(t=this.onReceivedHealthcheck.bind(this),n=this.allowPostMessageOrigin,Da(window,"receivedHealthcheck",t,n))},e.prototype.healthCheck=function(){return v(this,void 0,void 0,function(){var t;return b(this,function(n){switch(n.label){case 0:if(this.popupWindow&&!this.popupWindow.closed)return[3,7];if(!this.doesWaitForSubwindowResult)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.onCanceled()];case 2:return n.sent(),[3,4];case 3:return t=n.sent(),this.internalError=t,[3,4];case 4:return[3,6];case 5:this.finalize(),n.label=6;case 6:return[3,8];case 7:r=this.popupWindow,i=this.allowPostMessageOrigin,zn(r,"healthcheck",void 0,i),this.timeoutIDForHealthCheck=window.setTimeout(this.healthCheck.bind(this),1e3),n.label=8;case 8:return[2]}var r,i})})},e.prototype.onReceivedHealthcheck=function(){if(!this.popupWindow||!this.payloadToShareTargetPicker)throw d(Bt);var t,n,r;t=this.popupWindow,n=this.payloadToShareTargetPicker,r=this.allowPostMessageOrigin,zn(t,"ready",n,r)},e.prototype.onCanceled=function(){return v(this,void 0,void 0,function(){var t,n;return b(this,function(r){switch(r.label){case 0:if(_()||!this.ott)throw new Error("need to call with ott in client");return this.abortController&&(t=this.abortController.signal),n={liffId:this.liffId,ott:this.ott},[4,L(C("shareTargetPickerResult")+"?"+D.stringify(n),{method:"POST",signal:t,headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},body:"result=CANCEL"})];case 1:return[2,r.sent().status==="ok"]}})})},e.prototype.getShareResult=function(){return v(this,void 0,void 0,function(){var t,n;return b(this,function(r){if(!this.ott)throw new Error("need to call with ott in client");return this.abortController&&(t=this.abortController.signal),n={liffId:this.liffId,ott:this.ott},I.debug("fetch: getShareResult"),[2,L(C("shareTargetPickerResult")+"?"+D.stringify(n),{method:"GET",headers:{Accept:"application/json"},signal:t})]})})},e.isPollingTimeOut=function(t,n){return(n-t)/6e4>=10},e.prototype.pollingShareResult=function(){return v(this,void 0,void 0,function(){var t,n;return b(this,function(r){switch(r.label){case 0:t=Date.now(),r.label=1;case 1:if(e.isPollingTimeOut(t,Date.now()))return[3,4];if(this.internalError)throw this.internalError;return[4,this.getShareResult()];case 2:if((n=r.sent())&&n.result)switch(n.result){case"SUCCESS":return[2,{status:"success"}];case"CANCEL":return[2];case"FAILURE":default:throw new Error(n.resultDescription)}return[4,new Promise(function(i){setTimeout(i,500)})];case 3:return r.sent(),[3,1];case 4:throw new Error("Timeout: not finished within 10min")}})})},e}(),Ti=function(){function e(){var t=this;this.name="shareTargetPicker",this.shareTargetPicker=function(n,r){return r===void 0&&(r={}),v(t,void 0,void 0,function(){var i,o,s,a,u,c,l;return b(this,function(f){switch(f.label){case 0:if(i=r.isMultiple===void 0||r.isMultiple,this.checkPermission(),!K())throw d(q,"Need access_token for api call, Please login first");if(!n||!Array.isArray(n)||n.length===0)throw d(A,"no proper argument");if(n.length>co)throw d(A,"exceed the limit of num of messages");if(!(o=k().liffId))throw d(re);window.liff&&(s=window.liff).analytics&&mi(s.analytics),f.label=1;case 1:return f.trys.push([1,3,,4]),a=Ua.getInstance(),u=ie(),c={waitForSubwindowResult:!0},_()&&u&&ne(u,"10.11.0")<0&&(c.waitForSubwindowResult=!1),[4,a.init({messages:n,isMultiple:i,referrer:{liffId:o,url:location.origin},options:c})];case 2:return[2,f.sent()];case 3:throw(l=f.sent())instanceof mr?l:d(Ht,l.message);case 4:return[2]}})})},this.checkPermission=function(){if(ge())throw d(X,"The operation is not allowed in the SubWindow");var n=((J()||{}).availability||{}).shareTargetPicker||{},r=n.permission,i=n.minVer;if(!r)throw _()?d(X,"Need LINE App "+i+" at least or consent on shareTargetPicker usage on LINE developer site"):d(X,"Need consent on shareTargetPicker usage on LINE developer site")}}return e.prototype.install=function(){return this.shareTargetPicker},e}(),Ba=new Ti,Ha=Object.freeze(Object.defineProperty({__proto__:null,ShareTargetPickerModule:Ti,module:Ba},Symbol.toStringTag,{value:"Module"})),Wa=T(Ha);(function(e,t){(function(n,r){e.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:a})},i.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var u in o)i.d(a,u,function(c){return o[c]}.bind(null,u));return a},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="https://static.line-scdn.net/liff/edge/2/",i(i.s=0)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.liff=void 0,i(1),i(2);var o=i(3).default;r.liff=o,r.default=o},function(n,r){n.exports=Yi},function(n,r){n.exports=io},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=i(5),a=i(6),u=i(7),c=i(8),l=i(9),f=i(10),h=i(11),p=i(12),m=i(13),g=i(14),y=i(15),S=i(16),O=i(17),B=i(18),fe=i(19),ee=i(20),te=i(21),de=i(22),oe=i(23),kt=i(24),We=i(25),qe=i(26),Ve=i(27),Ge=i(28),Ri=i(29),ze=Object.defineProperties({},{getOS:{value:l.getOS,enumerable:!0,writable:!0},getVersion:{value:f.getVersion,enumerable:!0,writable:!0},getLanguage:{value:h.getLanguage,enumerable:!0,writable:!0},isInClient:{value:u.isInClient,enumerable:!0,writable:!0},isLoggedIn:{value:m.isLoggedIn,enumerable:!0,writable:!0},logout:{value:g.logout,enumerable:!0,writable:!0},getAccessToken:{value:a.getAccessToken,enumerable:!0,writable:!0},getIDToken:{value:a.getIDToken,enumerable:!0,writable:!0},getDecodedIDToken:{value:a.getDecodedIDToken,enumerable:!0,writable:!0},getContext:{value:a.getContext,enumerable:!0,writable:!0},openWindow:{value:B.openWindow,enumerable:!0,writable:!0},closeWindow:{value:fe.closeWindow,enumerable:!0,writable:!0},getFriendship:{value:Ge.attachChecker(te.getFriendship,"profile"),enumerable:!0,writable:!0},getAId:{value:a.getAId,enumerable:!0,writable:!0},getProfilePlus:{value:a.getProfilePlus,enumerable:!0,writable:!0},getIsVideoAutoPlay:{value:a.getIsVideoAutoPlay,enumerable:!0,writable:!0},getLineVersion:{value:S.getLineVersion,enumerable:!0,writable:!0},isApiAvailable:{value:O.isApiAvailable,enumerable:!0,writable:!0},getProfile:{value:Ge.attachChecker(p.getProfile,"profile"),enumerable:!0,writable:!0},sendMessages:{value:Ge.attachChecker(ee.sendMessages,"chat_message.write"),enumerable:!0,writable:!0},subWindow:{value:de.subWindow,enumerable:!0,writable:!0},ready:{value:c.ready,enumerable:!0,writable:!0},id:{get:function(){return a.getConfig().liffId||null},enumerable:!0},_dispatchEvent:{value:y.dispatch,enumerable:!0,writable:!0},_call:{value:y.call,enumerable:!0,writable:!0},_addListener:{value:y.addListener,enumerable:!0,writable:!0},_removeListener:{value:y.removeListener,enumerable:!0,writable:!0},_postMessage:{value:y.postMessage,enumerable:!0,writable:!0}}),Ke=new oe.ModuleDriverImpl,Li=new oe.ModuleContextImpl(Ke,ze),Mi=new oe.UseModule(Ke,Li,{namespacePrefix:""}).install(),Ni=new oe.LiffPluginContextImpl(Ke,ze);[new oe.UseModule(Ke,Ni),new s.LoginModule,new o.InitModule,new kt.AnalyticsModule,Ve.module,We.module,qe.module,Ge.module,Ri.module].forEach(function(Fi){Mi.call(ze,Fi)}),r.default=ze},function(n,r){n.exports=js},function(n,r){n.exports=Rs},function(n,r){n.exports=Ls},function(n,r){n.exports=Ms},function(n,r){n.exports=Ns},function(n,r){n.exports=Fs},function(n,r){n.exports=Ds},function(n,r){n.exports=Hs},function(n,r){n.exports=qs},function(n,r){n.exports=Vs},function(n,r){n.exports=Gs},function(n,r){n.exports=zs},function(n,r){n.exports=Ks},function(n,r){n.exports=Js},function(n,r){n.exports=Zs},function(n,r){n.exports=ea},function(n,r){n.exports=ia},function(n,r){n.exports=aa},function(n,r){n.exports=ua},function(n,r){n.exports=pa},function(n,r){n.exports=ya},function(n,r){n.exports=Sa},function(n,r){n.exports=Oa},function(n,r){n.exports=ja},function(n,r){n.exports=Ma},function(n,r){n.exports=Wa}]).default})})(ir);var Yt=rr(ir.exports),Pi={},ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.HeadlessInspectorClient=void 0;class qa{constructor(t){this.inspector=t,this.connected=!1,this.onWsClose=n=>{this.connected=!1},this.onWsError=n=>{this.connected=!1},this.onWsOpen=()=>{var n;this.connected=!0,this.inspector.enable(),(n=this.ws)===null||n===void 0||n.addEventListener("message",this.onMessageFromDevTools)},this.onAllDebugEvents=(n,r)=>{const i={method:n,params:r};this.send(i)},this.onMessageFromDevTools=n=>{const r=JSON.parse(n.data),i=this.inspector.send(r.method,r.params),o={id:r.id,method:r.method,result:i};this.send(o)},this.inspector.onAll(this.onAllDebugEvents)}send(t){var n;const r=JSON.stringify(t);(n=this.ws)===null||n===void 0||n.send(r)}enable(t){if(this.connected){console.log("Headless Inspector has already been enabled.");return}this.ws=new WebSocket(t),this.ws.onclose=this.onWsClose,this.ws.onopen=this.onWsOpen,this.ws.onerror=this.onWsError}disable(){this.inspector.disable()}}ft.HeadlessInspectorClient=qa;var Ue={},Ci={},dt={};Object.defineProperty(dt,"__esModule",{value:!0});dt.commandHandler=void 0;const Va=(e,t)=>{if(e==="getRootNode")return window.document.getRootNode();throw new Error(`Unsupported command ${e}`)};dt.commandHandler=Va;var Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.evemitter=void 0;const Ga=()=>{let e=!1,t=null;const n=new Map;return{on:(r,i)=>{n.set(r,i)},onAll:r=>{t=r},emit:(r,i)=>{if(e)return;e=!0;const o=n.get(r);o&&o(i),t&&t(r,i),e=!1}}};Fe.evemitter=Ga;var Zt={},ji={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.interceptConsole=e.consoleHandlerFactory=void 0;const t=r=>o=>({apply:function(s,a,u){const c=Date.now();return r.emit("consoleAPIHasBeenCalled",{argumentsList:u,type:o,timestamp:c}),Reflect.apply(s,a,u)}});e.consoleHandlerFactory=t;const n=r=>{const i=(0,e.consoleHandlerFactory)(r);console.log=new Proxy(console.log,i("log")),console.error=new Proxy(console.error,i("error")),console.warn=new Proxy(console.warn,i("warn")),console.info=new Proxy(console.info,i("info"))};e.interceptConsole=n})(ji);var ht={},pt={},Be={};Object.defineProperty(Be,"__esModule",{value:!0});Be.randomId=void 0;const za=()=>Math.random().toString(36).substr(2,9);Be.randomId=za;var Ka=z&&z.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(pt,"__esModule",{value:!0});pt.createFetchApiHandler=void 0;const Ja=Be,Xa=e=>({apply:(t,n,r)=>Ka(void 0,void 0,void 0,function*(){const i=(0,Ja.randomId)(),o=Date.now(),s=r[0],a=r[1],u=typeof s=="string"?s:s.url,c=typeof s=="string"?a==null?void 0:a.method:s.method,l={};e.emit("networkRequestHasBeenMade",{type:"fetch",requestId:i,timestamp:o,request:{method:c!=null?c:"GET",headers:l,url:u}});const f=yield Reflect.apply(t,n,r),h=f.clone(),p=Date.now(),m={};h.headers.forEach((y,S)=>{m[S]=y});const g=yield h.text();return e.emit("networkRequestHasSucceeded",{type:"fetch",requestId:i,timestamp:p,response:{url:u,status:h.statusText,statusCode:h.status,headers:m,rawData:h,text:g}}),f})});pt.createFetchApiHandler=Xa;var vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.createXHRHandler=void 0;const Qa=Be,Kn=new Map,Nt=Symbol("__hiRequestId"),Ya=e=>({construct:{construct:(i,o,s)=>{const a=(0,Qa.randomId)();return s.prototype[Nt]=a,Reflect.construct(i,o,s)}},open:{apply:(i,o,s)=>{const a=o[Nt];if(!a)return Reflect.apply(i,o,s);const[u,c]=s,l=c.toString(),f={};Kn.set(a,{method:u,url:l,headers:f}),Reflect.apply(i,o,s)}},send:{apply:(i,o,s)=>{const a=o[Nt];if(!a)return Reflect.apply(i,o,s);const u=Date.now(),c=Kn.get(a);if(!c)return Reflect.apply(i,o,s);e.emit("networkRequestHasBeenMade",{type:"xhr",timestamp:u,requestId:a,request:c});const l=()=>{switch(o.readyState){case XMLHttpRequest.DONE:{const f=Date.now(),p=o.getAllResponseHeaders().split(`
`).reduce((m,g)=>{const[y,S]=g.split(": ");return Object.assign(Object.assign({},m),{[y]:S})},{});e.emit("networkRequestHasSucceeded",{type:"xhr",timestamp:f,requestId:a,response:{url:c.url,statusCode:o.status,status:o.statusText,headers:p,rawData:o.response,text:o.response}});break}}};return o.onreadystatechange=o.onreadystatechange?new Proxy(o.onreadystatechange,{apply:(f,h,p)=>(l(),Reflect.apply(f,h,p))}):l,Reflect.apply(i,o,s)}}});vt.createXHRHandler=Ya;Object.defineProperty(ht,"__esModule",{value:!0});ht.interceptNetwork=void 0;const Za=pt,eu=vt,tu=e=>{if(window.fetch){const t=(0,Za.createFetchApiHandler)(e);window.fetch=new Proxy(window.fetch,t)}if(window.XMLHttpRequest){const t=(0,eu.createXHRHandler)(e);window.XMLHttpRequest.prototype.open=new Proxy(window.XMLHttpRequest.prototype.open,t.open),window.XMLHttpRequest.prototype.send=new Proxy(window.XMLHttpRequest.prototype.send,t.send),window.XMLHttpRequest=new Proxy(window.XMLHttpRequest,t.construct)}};ht.interceptNetwork=tu;(function(e){var t=z&&z.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=z&&z.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,r,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(ji,e),n(ht,e)})(Zt);var $i={};Object.defineProperty($i,"__esModule",{value:!0});(function(e){var t=z&&z.__createBinding||(Object.create?function(a,u,c,l){l===void 0&&(l=c);var f=Object.getOwnPropertyDescriptor(u,c);(!f||("get"in f?!u.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return u[c]}}),Object.defineProperty(a,l,f)}:function(a,u,c,l){l===void 0&&(l=c),a[l]=u[c]}),n=z&&z.__exportStar||function(a,u){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(u,c)&&t(u,a,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.HeadlessInspector=void 0;const r=dt,i=Fe,o=Zt;n(Fe,e),n(Zt,e),n($i,e);class s{constructor(){this.isEnabled=!1,this.debugEventEmitter=(0,i.evemitter)()}on(u,c){return this.debugEventEmitter.on(u,c)}onAll(u){this.debugEventEmitter.onAll(u)}send(u,c){return(0,r.commandHandler)(u,c)}enable(){this.isEnabled||(this.isEnabled=!0,(0,o.interceptConsole)(this.debugEventEmitter),(0,o.interceptNetwork)(this.debugEventEmitter))}disable(){}}e.HeadlessInspector=s,e.default=s})(Ci);var bt={},mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.Highlight=void 0;const Ye=(e=0)=>`${e}px`,nu=(e,t,n)=>{const r=document.createElement(t);return e&&(r.id=e),Object.entries(n).forEach(([i,o])=>{r.style[i]=o}),r},ru="HIGHLIGHT_CONTAINER_ID";class iu{constructor(t){this.node=nu(ru,"div",{display:"none",position:"absolute"}),t(this.node)}hide(){this.node.style.display="none"}show(t,{contentColor:n}){const r=t.getBoundingClientRect();this.node.style.backgroundColor=n,this.node.style.width=Ye(r.width),this.node.style.height=Ye(r.height),this.node.style.left=Ye(r.left),this.node.style.top=Ye(r.top),this.node.style.display="block"}}mt.Highlight=iu;var ki={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getAttributes=e.CDPNode=void 0;class t{constructor({node:i,nodeId:o,parentId:s,childNodeCount:a=0,children:u=[]}){var c;this.nodeId=o,this.parentId=s,this.backendNodeId=o,this.nodeType=i.nodeType,this.nodeName=i.nodeName,this.localName=i.nodeName.toLowerCase(),this.nodeValue=(c=i.nodeValue)!==null&&c!==void 0?c:"",this.childNodeCount=a>0?a:u==null?void 0:u.length,this.children=u.length>0?u:void 0,this.attributes=(0,e.getAttributes)(i)}}e.CDPNode=t;const n=r=>{const i=[];if(r instanceof Element){const o=r.attributes;for(let s=0;s<o.length;s++){const a=o.item(s);a&&(i.push(a.name),i.push(a.value))}}return i};e.getAttributes=n})(ki);var Pe={};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.Store=void 0;class ou{constructor(){this.idToValue=new Map,this.valueToId=new Map}store(t,n){this.idToValue.set(t,n),this.valueToId.set(n,t)}getById(t){return this.idToValue.get(t)}getByValue(t){return this.valueToId.get(t)}}Pe.Store=ou;var we={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.randomStrId=e.randomNumId=e.isObject=void 0;const t=i=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean"||typeof i=="undefined"||typeof i=="bigint")return!1;if(typeof i=="symbol"||typeof i=="function")return!0;if(typeof i=="object")return i!==null;throw new Error(`Unknown type: ${i} ${typeof i}`)};e.isObject=t;const n=()=>Math.random()*Math.pow(10,10);e.randomNumId=n;const r=()=>`${(0,e.randomNumId)()}`;e.randomStrId=r})(we);Object.defineProperty(bt,"__esModule",{value:!0});bt.attachDOMEvents=void 0;const su=mt,Jn=ki,au=Pe,uu=we,Ai=e=>Array.from(e).filter(t=>{var n;return!(t.nodeName==="#text"&&((n=t.nodeValue)===null||n===void 0?void 0:n.trim())==="")}),at=new au.Store,en=(e,t,n)=>{const r=(0,uu.randomNumId)();at.getById(r)||at.store(r,e);const i=Ai(e.childNodes);if(n===0)return new Jn.CDPNode({node:e,nodeId:r,parentId:t,childNodeCount:i.length});const o=i.map(s=>en(s,r,n-1));return new Jn.CDPNode({nodeId:r,node:e,parentId:t,children:o})},cu=(e,t,n)=>{n("DOM.getDocument",()=>{const i=e.send("getRootNode",void 0);return{root:en(i,void 0,2)}}),n("DOM.requestChildNodes",({nodeId:i})=>{const o=at.getById(i);if(!o)return;const s=Ai(o.childNodes).map(a=>en(a,i,2));t.emit("DOM.setChildNodes",{parentId:i,nodes:s})});const r=new su.Highlight(i=>document.body.appendChild(i));n("Overlay.hideHighlight",()=>{r.hide()}),n("Overlay.highlightNode",({nodeId:i,highlightConfig:o})=>{if(!i)return;const s=at.getById(i);if(!s||!(s instanceof Element))return;const{contentColor:a}=o;r.show(s,{contentColor:lu(a)})})};bt.attachDOMEvents=cu;const lu=({r:e,g:t,b:n,a:r}={r:0,g:0,b:0,a:1})=>`rgba(${e},${t},${n},${r})`;var gt={},yt={},wt={};Object.defineProperty(wt,"__esModule",{value:!0});wt.Initiator=void 0;class fu{constructor({type:t,url:n,lineNumber:r,columnNumber:i,requestId:o}){this.type=t,this.url=n,this.lineNumber=r,this.columnNumber=i,this.requestId=o}}wt.Initiator=fu;var _t={};Object.defineProperty(_t,"__esModule",{value:!0});_t.Request=void 0;class du{constructor({url:t,method:n,headers:r,postData:i,hasPostData:o,mixedContentType:s,initialPriority:a,referrerPolicy:u,isLinkPreload:c,isSameSite:l}){const f=new URL(t);this.url=t,this.urlFragment=f.hash,this.method=n,this.headers=r,this.postData=i,this.hasPostData=o,this.mixedContentType=s,this.initialPriority=a,this.referrerPolicy=u,this.isLinkPreload=c,this.isSameSite=l}}_t.Request=du;Object.defineProperty(yt,"__esModule",{value:!0});yt.RequestWillBeSentEvent=void 0;const hu=wt,pu=_t;class vu{constructor({requestId:t,documentURL:n,request:r,timestamp:i,type:o}){this.requestId=t,this.loaderId=t,this.documentURL=n,this.request=new pu.Request({url:r.url,method:r.method,headers:r.headers,initialPriority:"High",referrerPolicy:"origin"}),this.timestamp=i,this.wallTime=i,this.initiator=new hu.Initiator({type:"other"}),this.redirectHasExtraInfo=!1,this.type=o}}yt.RequestWillBeSentEvent=vu;var It={},St={};Object.defineProperty(St,"__esModule",{value:!0});St.Response=void 0;const bu=we;class mu{constructor({url:t,status:n,statusText:r,headers:i,mimeType:o,encodedDataLength:s}){this.connectionReused=!1,this.securityState="secure",this.url=t,this.status=n,this.statusText=r,this.headers=i,this.mimeType=o,this.encodedDataLength=s,this.connectionId=(0,bu.randomNumId)()}}St.Response=mu;Object.defineProperty(It,"__esModule",{value:!0});It.ResponseReceivedEvent=void 0;const gu=St;class yu{constructor({requestId:t,loaderId:n,timestamp:r,type:i,response:{url:o,status:s,statusText:a,headers:u,length:c,mimeType:l}}){this.requestId=t,this.loaderId=n,this.timestamp=r,this.response=new gu.Response({url:o,status:s,statusText:a,headers:u,encodedDataLength:c,mimeType:l!=null?l:"text/html"}),this.type=i,this.hasExtraInfo=!1}}It.ResponseReceivedEvent=yu;Object.defineProperty(gt,"__esModule",{value:!0});gt.attachNetworkEvents=void 0;const wu=yt,_u=It,Iu=Pe,Xn=new Iu.Store,Su=(e,t,n)=>{e.on("networkRequestHasBeenMade",({type:r,request:i,requestId:o,timestamp:s})=>{const a=new wu.RequestWillBeSentEvent({requestId:o,documentURL:window.location.href,request:{url:i.url,method:i.method,headers:i.headers},timestamp:s,type:r==="fetch"?"Fetch":"XHR"});t.emit("Network.requestWillBeSent",a)}),e.on("networkRequestHasSucceeded",({response:r,requestId:i,timestamp:o,type:s})=>{Xn.store(i,r.text);const a=r.text.length,u=new _u.ResponseReceivedEvent({requestId:i,loaderId:i,timestamp:o,type:s==="fetch"?"Fetch":"XHR",response:{url:r.url,statusText:r.status,status:r.statusCode,headers:r.headers,length:a}});t.emit("Network.responseReceived",u),t.emit("Network.dataReceived",{requestId:i,dataLength:a,encodedDataLength:a,timestamp:o}),t.emit("Network.loadingFinished",{requestId:i,encodedDataLength:a,timestamp:o})}),n("Network.getResponseBody",({requestId:r})=>{const i=Xn.getById(r);if(typeof i=="undefined")return;const o=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)?$/.test(i);return{body:i,base64Encoded:o}})};gt.attachNetworkEvents=Su;var Ot={},Et={},He={},Tt={},Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.PropertyPreview=void 0;class Ou{constructor(t,n){switch(this.name=t,typeof n){case"string":{this.type="string",this.value=n;break}case"number":{this.type="number",this.value=`${n}`;break}case"boolean":{this.type="boolean",this.value=`${n}`;break}case"undefined":{this.type="undefined",this.value=`${n}`;break}case"bigint":{this.type="bigint",this.value=n.toString();break}case"symbol":{this.type="symbol",this.value=n.toString();break}case"function":{this.type="function",this.value=n.toString();break}case"object":{if(this.type="object",n===null){this.value="null";break}if(Array.isArray(n)){this.value=`Array(${n.length})`,this.subtype="array";break}this.value="Object";break}default:throw new Error(`Unknown type: ${n} ${typeof n}`)}}}Pt.PropertyPreview=Ou;Object.defineProperty(Tt,"__esModule",{value:!0});Tt.ObjectPreview=void 0;const Qn=Pt;class Eu{constructor(t,n){if(this.overflow=!1,this.properties=[],typeof t!="object"||t===null)throw new Error(`ObjectPreview accepts object type only. given ${t}`);this.type="object",this.overflow=n,Array.isArray(t)?(this.subtype="array",this.description=`Array(${t.length})`,this.properties=t.map((r,i)=>new Qn.PropertyPreview(`${i}`,r))):(this.description="Object",this.properties=Object.entries(t).map(([r,i])=>new Qn.PropertyPreview(r,i)))}}Tt.ObjectPreview=Eu;Object.defineProperty(He,"__esModule",{value:!0});He.RemoteObject=void 0;const Yn=Tt;class Tu{constructor(t,n){switch(typeof t){case"string":{this.type="string",this.value=t;break}case"number":{this.type="number",this.value=t,this.description=`${t}`;break}case"boolean":{this.type="boolean",this.value=t;break}case"undefined":{this.type="undefined",this.value=t;break}case"bigint":{this.type="bigint",this.value=t.toString(),this.description=t.toString();break}case"symbol":{if(!n)throw new Error(`${t.toString()} should have objectId in RemoteObject`);this.type="symbol",this.value=t.toString(),this.objectId=n;break}case"function":{if(!n)throw new Error(`${t.toString()} should have objectId in RemoteObject`);this.type="function",this.description=t.toString(),this.objectId=n,this.className="Function";break}case"object":{if(this.type="object",t===null){this.subtype="null",this.value=null;break}if(!n)throw new Error(`${JSON.stringify(t)} should have objectId in RemoteObject`);if(Array.isArray(t)){this.objectId=n,this.className="Array",this.description=`Array(${t.length})`,this.subtype="array",this.preview=new Yn.ObjectPreview(t,!0);break}this.objectId=n,this.className="Object",this.description="Object",this.preview=new Yn.ObjectPreview(t,!1);break}default:throw new Error(`Unknown type: ${t} ${typeof t}`)}}}He.RemoteObject=Tu;Object.defineProperty(Et,"__esModule",{value:!0});Et.ConsoleAPICalledEvent=void 0;const Pu=we,Cu=He;class ju{constructor({type:t,argumentsList:n,timestamp:r},i,o){this.args=[],this.type=t,this.timestamp=r,this.executionContextId=i,n.forEach(s=>{const a=(0,Pu.isObject)(s)?o(s):void 0;this.args.push(new Cu.RemoteObject(s,a))})}}Et.ConsoleAPICalledEvent=ju;var Ct={},jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.PropertyDescriptor=void 0;const $u=He;class ku{constructor(t,n,{name:r,enumerable:i,configurable:o,writable:s}){this.value=new $u.RemoteObject(t,n),this.name=r,this.enumerable=i,this.configurable=o,this.writable=s}}jt.PropertyDescriptor=ku;Object.defineProperty(Ct,"__esModule",{value:!0});Ct.GetPropertiesResponse=void 0;const Au=we,xu=jt;class Ru{constructor(t,n){this.result=Object.entries(t).map(([r,i])=>{var o,s;const a=(0,Au.isObject)(i)?n(i):void 0,u=Object.getOwnPropertyDescriptor(t,r);if(!u)throw new Error(`PropertyDescriptor of ${i} is missing`);return new xu.PropertyDescriptor(i,a,{name:r,enumerable:(o=u.enumerable)!==null&&o!==void 0?o:!0,configurable:(s=u.configurable)!==null&&s!==void 0?s:!0,writable:u.writable})})}}Ct.GetPropertiesResponse=Ru;var $t={};Object.defineProperty($t,"__esModule",{value:!0});$t.objectStore=void 0;const Zn=we,Lu=Pe;class Mu extends Lu.Store{storeObject(t){if(!(0,Zn.isObject)(t))return;const n=(0,Zn.randomStrId)();this.store(n,t),Object.values(t).forEach(r=>this.storeObject(r))}getObjectOf(t){return this.getById(t)}getObjectIdOf(t){return this.getByValue(t)}}$t.objectStore=new Mu;Object.defineProperty(Ot,"__esModule",{value:!0});Ot.attachRuntimeEvents=void 0;const Nu=Et,Fu=Ct,Tn=$t,er=we,Du=e=>{if(e==="warn")return"warning";if(e==="countReset"||e==="time"||e==="timeLog"||e==="timeStamp"||e==="group"||e==="groupCollapsed"||e==="groupEnd")throw new Error(`console.${e} is not supported yet`);return e},tr=e=>Tn.objectStore.getObjectIdOf(e),Uu=e=>Tn.objectStore.getObjectOf(e),Bu=(e,t,n)=>{e.on("consoleAPIHasBeenCalled",({argumentsList:r,type:i,timestamp:o})=>{r.forEach(a=>Tn.objectStore.storeObject(a));const s=new Nu.ConsoleAPICalledEvent({argumentsList:r,type:Du(i),timestamp:o},(0,er.randomNumId)(),tr);t.emit("Runtime.consoleAPICalled",s)}),n("Runtime.getProperties",r=>{const i=Uu(r.objectId);return(0,er.isObject)(i)?new Fu.GetPropertiesResponse(i,tr):void 0})};Ot.attachRuntimeEvents=Bu;Object.defineProperty(Ue,"__esModule",{value:!0});Ue.HeadlessInspectorCdp=void 0;const nr=Ci,Hu=bt,Wu=gt,qu=Ot;class xi{constructor(){this.enabled=!1,this.setCommandHandler=(t,n)=>{this.commandHandlerMap.set(t,n)},this.inspector=new nr.HeadlessInspector,this.commandHandlerMap=new Map,this.eventEmitter=(0,nr.evemitter)()}on(t,n){this.eventEmitter.on(t,n)}onAll(t){this.eventEmitter.onAll(t)}send(t,n){const r=this.commandHandlerMap.get(t);return r?r(n):void 0}enable(){this.enabled||(this.enabled=!0,this.inspector.enable(),(0,qu.attachRuntimeEvents)(this.inspector,this.eventEmitter,this.setCommandHandler),(0,Wu.attachNetworkEvents)(this.inspector,this.eventEmitter,this.setCommandHandler),(0,Hu.attachDOMEvents)(this.inspector,this.eventEmitter,this.setCommandHandler))}disable(){}}Ue.HeadlessInspectorCdp=xi;Ue.default=xi;(function(e){var t=z&&z.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.LIFFInspectorPlugin=e.getOriginFromUrl=e.getBackendUrl=void 0;const n=ft,r=t(Ue),i="wss://localhost:9222/",o=(u,c)=>`${c.endsWith("/")?c.slice(0,-1):c}/?hi_id=${u}`;e.getBackendUrl=o;const s=u=>new URLSearchParams(u).get("li.origin");e.getOriginFromUrl=s;class a{constructor(c){this.option=c,this.name="inspector",this.client=new n.HeadlessInspectorClient(new r.default)}connect(c){this.client.enable(c)}install({liff:c}){c.init=new Proxy(c.init,{apply:(l,f,h)=>{var p,m,g;const y=(g=(p=(0,e.getOriginFromUrl)(window.location.search))!==null&&p!==void 0?p:(m=this.option)===null||m===void 0?void 0:m.origin)!==null&&g!==void 0?g:i,S=h[0],O=(0,e.getBackendUrl)(S.liffId,y);try{this.connect(O)}catch(B){console.error("[LIFF Inspector] LIFF inspector couldn't start correctly.",B)}return Reflect.apply(l,f,h)}})}}e.LIFFInspectorPlugin=a,e.default=a})(Pi);var Vu=rr(Pi);Yt.use(new Vu);Yt.init({liffId:"1657236278-90NKVoX8"}).then(()=>{const e=Yt.getDecodedIDToken();console.log(e);const t=new URLSearchParams(window.location.search).get("li.origin"),n="ws://localhost:9222";connect(t!=null?t:n),document.querySelector("#app").innerHTML=`
    <h1>create-liff-app</h1>
    <p>LIFF init succeeded.</p>
    <a href="https://developers.line.biz/ja/docs/liff/" target="_blank" rel="noreferrer">
      LIFF Documentation
    </a>
  `}).catch(e=>{document.querySelector("#app").innerHTML=`
    <h1>create-liff-app</h1>
    <p>LIFF init failed.</p>
    <p><code>${e}</code></p>
    <a href="https://developers.line.biz/ja/docs/liff/" target="_blank" rel="noreferrer">
      LIFF Documentation
    </a>
  `});
